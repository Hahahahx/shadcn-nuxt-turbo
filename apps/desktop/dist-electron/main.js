"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const xt=require("node:path"),Me=require("electron"),At=require("path"),to=require("util"),kn=require("fs"),ji=require("crypto"),Li=require("assert"),ki=require("events"),Fi=require("os");var hr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wn={exports:{}},Ui=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")};const bt=Ui,Vi=new Set(["__proto__","prototype","constructor"]),zi=e=>!e.some(t=>Vi.has(t));function Tr(e){const t=e.split("."),r=[];for(let n=0;n<t.length;n++){let s=t[n];for(;s[s.length-1]==="\\"&&t[n+1]!==void 0;)s=s.slice(0,-1)+".",s+=t[++n];r.push(s)}return zi(r)?r:[]}var qi={get(e,t,r){if(!bt(e)||typeof t!="string")return r===void 0?e:r;const n=Tr(t);if(n.length!==0){for(let s=0;s<n.length;s++)if(e=e[n[s]],e==null){if(s!==n.length-1)return r;break}return e===void 0?r:e}},set(e,t,r){if(!bt(e)||typeof t!="string")return e;const n=e,s=Tr(t);for(let a=0;a<s.length;a++){const i=s[a];bt(e[i])||(e[i]={}),a===s.length-1&&(e[i]=r),e=e[i]}return n},delete(e,t){if(!bt(e)||typeof t!="string")return!1;const r=Tr(t);for(let n=0;n<r.length;n++){const s=r[n];if(n===r.length-1)return delete e[s],!0;if(e=e[s],!bt(e))return!1}},has(e,t){if(!bt(e)||typeof t!="string")return!1;const r=Tr(t);if(r.length===0)return!1;for(let n=0;n<r.length;n++)if(bt(e)){if(!(r[n]in e))return!1;e=e[r[n]]}else return!1;return!0}},Fn={exports:{}},Mn={exports:{}},Un={exports:{}},Vn={exports:{}};const ro=kn;Vn.exports=e=>new Promise(t=>{ro.access(e,r=>{t(!r)})});Vn.exports.sync=e=>{try{return ro.accessSync(e),!0}catch{return!1}};var Gi=Vn.exports,zn={exports:{}},qn={exports:{}};const no=(e,...t)=>new Promise(r=>{r(e(...t))});qn.exports=no;qn.exports.default=no;var Ki=qn.exports;const Hi=Ki,so=e=>{if(!((Number.isInteger(e)||e===1/0)&&e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const t=[];let r=0;const n=()=>{r--,t.length>0&&t.shift()()},s=(u,o,...c)=>{r++;const f=Hi(u,...c);o(f),f.then(n,n)},a=(u,o,...c)=>{r<e?s(u,o,...c):t.push(s.bind(null,u,o,...c))},i=(u,...o)=>new Promise(c=>a(u,c,...o));return Object.defineProperties(i,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),i};zn.exports=so;zn.exports.default=so;var xi=zn.exports;const aa=xi;class ao extends Error{constructor(t){super(),this.value=t}}const Xi=(e,t)=>Promise.resolve(e).then(t),Wi=e=>Promise.all(e).then(t=>t[1]===!0&&Promise.reject(new ao(t[0])));var Bi=(e,t,r)=>{r=Object.assign({concurrency:1/0,preserveOrder:!0},r);const n=aa(r.concurrency),s=[...e].map(i=>[i,n(Xi,i,t)]),a=aa(r.preserveOrder?1:1/0);return Promise.all(s.map(i=>a(Wi,i))).then(()=>{}).catch(i=>i instanceof ao?i.value:Promise.reject(i))};const oo=At,io=Gi,Yi=Bi;Un.exports=(e,t)=>(t=Object.assign({cwd:process.cwd()},t),Yi(e,r=>io(oo.resolve(t.cwd,r)),t));Un.exports.sync=(e,t)=>{t=Object.assign({cwd:process.cwd()},t);for(const r of e)if(io.sync(oo.resolve(t.cwd,r)))return r};var Ji=Un.exports;const yt=At,co=Ji;Mn.exports=(e,t={})=>{const r=yt.resolve(t.cwd||""),{root:n}=yt.parse(r),s=[].concat(e);return new Promise(a=>{(function i(u){co(s,{cwd:u}).then(o=>{o?a(yt.join(u,o)):u===n?a(null):i(yt.dirname(u))})})(r)})};Mn.exports.sync=(e,t={})=>{let r=yt.resolve(t.cwd||"");const{root:n}=yt.parse(r),s=[].concat(e);for(;;){const a=co.sync(s,{cwd:r});if(a)return yt.join(r,a);if(r===n)return null;r=yt.dirname(r)}};var Qi=Mn.exports;const lo=Qi;Fn.exports=async({cwd:e}={})=>lo("package.json",{cwd:e});Fn.exports.sync=({cwd:e}={})=>lo.sync("package.json",{cwd:e});var Zi=Fn.exports,Gn={exports:{}};const ve=At,uo=Fi,mt=uo.homedir(),Kn=uo.tmpdir(),{env:Gt}=process,ec=e=>{const t=ve.join(mt,"Library");return{data:ve.join(t,"Application Support",e),config:ve.join(t,"Preferences",e),cache:ve.join(t,"Caches",e),log:ve.join(t,"Logs",e),temp:ve.join(Kn,e)}},tc=e=>{const t=Gt.APPDATA||ve.join(mt,"AppData","Roaming"),r=Gt.LOCALAPPDATA||ve.join(mt,"AppData","Local");return{data:ve.join(r,e,"Data"),config:ve.join(t,e,"Config"),cache:ve.join(r,e,"Cache"),log:ve.join(r,e,"Log"),temp:ve.join(Kn,e)}},rc=e=>{const t=ve.basename(mt);return{data:ve.join(Gt.XDG_DATA_HOME||ve.join(mt,".local","share"),e),config:ve.join(Gt.XDG_CONFIG_HOME||ve.join(mt,".config"),e),cache:ve.join(Gt.XDG_CACHE_HOME||ve.join(mt,".cache"),e),log:ve.join(Gt.XDG_STATE_HOME||ve.join(mt,".local","state"),e),temp:ve.join(Kn,t,e)}},fo=(e,t)=>{if(typeof e!="string")throw new TypeError(`Expected string, got ${typeof e}`);return t=Object.assign({suffix:"nodejs"},t),t.suffix&&(e+=`-${t.suffix}`),process.platform==="darwin"?ec(e):process.platform==="win32"?tc(e):rc(e)};Gn.exports=fo;Gn.exports.default=fo;var nc=Gn.exports,ot={},ce={};Object.defineProperty(ce,"__esModule",{value:!0});ce.NOOP=ce.LIMIT_FILES_DESCRIPTORS=ce.LIMIT_BASENAME_LENGTH=ce.IS_USER_ROOT=ce.IS_POSIX=ce.DEFAULT_TIMEOUT_SYNC=ce.DEFAULT_TIMEOUT_ASYNC=ce.DEFAULT_WRITE_OPTIONS=ce.DEFAULT_READ_OPTIONS=ce.DEFAULT_FOLDER_MODE=ce.DEFAULT_FILE_MODE=ce.DEFAULT_ENCODING=void 0;const sc="utf8";ce.DEFAULT_ENCODING=sc;const ac=438;ce.DEFAULT_FILE_MODE=ac;const oc=511;ce.DEFAULT_FOLDER_MODE=oc;const ic={};ce.DEFAULT_READ_OPTIONS=ic;const cc={};ce.DEFAULT_WRITE_OPTIONS=cc;const lc=5e3;ce.DEFAULT_TIMEOUT_ASYNC=lc;const uc=100;ce.DEFAULT_TIMEOUT_SYNC=uc;const fc=!!process.getuid;ce.IS_POSIX=fc;const dc=process.getuid?!process.getuid():!1;ce.IS_USER_ROOT=dc;const hc=128;ce.LIMIT_BASENAME_LENGTH=hc;const pc=1e4;ce.LIMIT_FILES_DESCRIPTORS=pc;const mc=()=>{};ce.NOOP=mc;var Qr={},Xt={};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.attemptifySync=Xt.attemptifyAsync=void 0;const ho=ce,yc=(e,t=ho.NOOP)=>function(){return e.apply(void 0,arguments).catch(t)};Xt.attemptifyAsync=yc;const $c=(e,t=ho.NOOP)=>function(){try{return e.apply(void 0,arguments)}catch(r){return t(r)}};Xt.attemptifySync=$c;var Hn={};Object.defineProperty(Hn,"__esModule",{value:!0});const vc=ce,po={isChangeErrorOk:e=>{const{code:t}=e;return t==="ENOSYS"||!vc.IS_USER_ROOT&&(t==="EINVAL"||t==="EPERM")},isRetriableError:e=>{const{code:t}=e;return t==="EMFILE"||t==="ENFILE"||t==="EAGAIN"||t==="EBUSY"||t==="EACCESS"||t==="EACCS"||t==="EPERM"},onChangeError:e=>{if(!po.isChangeErrorOk(e))throw e}};Hn.default=po;var Wt={},xn={};Object.defineProperty(xn,"__esModule",{value:!0});const gc=ce,he={interval:25,intervalId:void 0,limit:gc.LIMIT_FILES_DESCRIPTORS,queueActive:new Set,queueWaiting:new Set,init:()=>{he.intervalId||(he.intervalId=setInterval(he.tick,he.interval))},reset:()=>{he.intervalId&&(clearInterval(he.intervalId),delete he.intervalId)},add:e=>{he.queueWaiting.add(e),he.queueActive.size<he.limit/2?he.tick():he.init()},remove:e=>{he.queueWaiting.delete(e),he.queueActive.delete(e)},schedule:()=>new Promise(e=>{const t=()=>he.remove(r),r=()=>e(t);he.add(r)}),tick:()=>{if(!(he.queueActive.size>=he.limit)){if(!he.queueWaiting.size)return he.reset();for(const e of he.queueWaiting){if(he.queueActive.size>=he.limit)break;he.queueWaiting.delete(e),he.queueActive.add(e),e()}}}};xn.default=he;Object.defineProperty(Wt,"__esModule",{value:!0});Wt.retryifySync=Wt.retryifyAsync=void 0;const _c=xn,Ec=(e,t)=>function(r){return function n(){return _c.default.schedule().then(s=>e.apply(void 0,arguments).then(a=>(s(),a),a=>{if(s(),Date.now()>=r)throw a;if(t(a)){const i=Math.round(100+400*Math.random());return new Promise(o=>setTimeout(o,i)).then(()=>n.apply(void 0,arguments))}throw a}))}};Wt.retryifyAsync=Ec;const wc=(e,t)=>function(r){return function n(){try{return e.apply(void 0,arguments)}catch(s){if(Date.now()>r)throw s;if(t(s))return n.apply(void 0,arguments);throw s}}};Wt.retryifySync=wc;Object.defineProperty(Qr,"__esModule",{value:!0});const ue=kn,Ae=to,Ce=Xt,Oe=Hn,ke=Wt,Sc={chmodAttempt:Ce.attemptifyAsync(Ae.promisify(ue.chmod),Oe.default.onChangeError),chownAttempt:Ce.attemptifyAsync(Ae.promisify(ue.chown),Oe.default.onChangeError),closeAttempt:Ce.attemptifyAsync(Ae.promisify(ue.close)),fsyncAttempt:Ce.attemptifyAsync(Ae.promisify(ue.fsync)),mkdirAttempt:Ce.attemptifyAsync(Ae.promisify(ue.mkdir)),realpathAttempt:Ce.attemptifyAsync(Ae.promisify(ue.realpath)),statAttempt:Ce.attemptifyAsync(Ae.promisify(ue.stat)),unlinkAttempt:Ce.attemptifyAsync(Ae.promisify(ue.unlink)),closeRetry:ke.retryifyAsync(Ae.promisify(ue.close),Oe.default.isRetriableError),fsyncRetry:ke.retryifyAsync(Ae.promisify(ue.fsync),Oe.default.isRetriableError),openRetry:ke.retryifyAsync(Ae.promisify(ue.open),Oe.default.isRetriableError),readFileRetry:ke.retryifyAsync(Ae.promisify(ue.readFile),Oe.default.isRetriableError),renameRetry:ke.retryifyAsync(Ae.promisify(ue.rename),Oe.default.isRetriableError),statRetry:ke.retryifyAsync(Ae.promisify(ue.stat),Oe.default.isRetriableError),writeRetry:ke.retryifyAsync(Ae.promisify(ue.write),Oe.default.isRetriableError),chmodSyncAttempt:Ce.attemptifySync(ue.chmodSync,Oe.default.onChangeError),chownSyncAttempt:Ce.attemptifySync(ue.chownSync,Oe.default.onChangeError),closeSyncAttempt:Ce.attemptifySync(ue.closeSync),mkdirSyncAttempt:Ce.attemptifySync(ue.mkdirSync),realpathSyncAttempt:Ce.attemptifySync(ue.realpathSync),statSyncAttempt:Ce.attemptifySync(ue.statSync),unlinkSyncAttempt:Ce.attemptifySync(ue.unlinkSync),closeSyncRetry:ke.retryifySync(ue.closeSync,Oe.default.isRetriableError),fsyncSyncRetry:ke.retryifySync(ue.fsyncSync,Oe.default.isRetriableError),openSyncRetry:ke.retryifySync(ue.openSync,Oe.default.isRetriableError),readFileSyncRetry:ke.retryifySync(ue.readFileSync,Oe.default.isRetriableError),renameSyncRetry:ke.retryifySync(ue.renameSync,Oe.default.isRetriableError),statSyncRetry:ke.retryifySync(ue.statSync,Oe.default.isRetriableError),writeSyncRetry:ke.retryifySync(ue.writeSync,Oe.default.isRetriableError)};Qr.default=Sc;var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});const bc={isFunction:e=>typeof e=="function",isString:e=>typeof e=="string",isUndefined:e=>typeof e>"u"};Xn.default=bc;var Wn={};Object.defineProperty(Wn,"__esModule",{value:!0});const Ar={},Sn={next:e=>{const t=Ar[e];if(!t)return;t.shift();const r=t[0];r?r(()=>Sn.next(e)):delete Ar[e]},schedule:e=>new Promise(t=>{let r=Ar[e];r||(r=Ar[e]=[]),r.push(t),!(r.length>1)&&t(()=>Sn.next(e))})};Wn.default=Sn;var Bn={};Object.defineProperty(Bn,"__esModule",{value:!0});const Oc=At,oa=ce,ia=Qr,ze={store:{},create:e=>{const t=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),r=Date.now().toString().slice(-10),n="tmp-",s=`.${n}${r}${t}`;return`${e}${s}`},get:(e,t,r=!0)=>{const n=ze.truncate(t(e));return n in ze.store?ze.get(e,t,r):(ze.store[n]=r,[n,()=>delete ze.store[n]])},purge:e=>{ze.store[e]&&(delete ze.store[e],ia.default.unlinkAttempt(e))},purgeSync:e=>{ze.store[e]&&(delete ze.store[e],ia.default.unlinkSyncAttempt(e))},purgeSyncAll:()=>{for(const e in ze.store)ze.purgeSync(e)},truncate:e=>{const t=Oc.basename(e);if(t.length<=oa.LIMIT_BASENAME_LENGTH)return e;const r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(t);if(!r)return e;const n=t.length-oa.LIMIT_BASENAME_LENGTH;return`${e.slice(0,-t.length)}${r[1]}${r[2].slice(0,-n)}${r[3]}`}};process.on("exit",ze.purgeSyncAll);Bn.default=ze;Object.defineProperty(ot,"__esModule",{value:!0});ot.writeFileSync=ot.writeFile=ot.readFileSync=ot.readFile=void 0;const mo=At,Ne=ce,ie=Qr,qe=Xn,Rc=Wn,$t=Bn;function yo(e,t=Ne.DEFAULT_READ_OPTIONS){var r;if(qe.default.isString(t))return yo(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:Ne.DEFAULT_TIMEOUT_ASYNC);return ie.default.readFileRetry(n)(e,t)}ot.readFile=yo;function $o(e,t=Ne.DEFAULT_READ_OPTIONS){var r;if(qe.default.isString(t))return $o(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:Ne.DEFAULT_TIMEOUT_SYNC);return ie.default.readFileSyncRetry(n)(e,t)}ot.readFileSync=$o;const vo=(e,t,r,n)=>{if(qe.default.isFunction(r))return vo(e,t,Ne.DEFAULT_WRITE_OPTIONS,r);const s=go(e,t,r);return n&&s.then(n,n),s};ot.writeFile=vo;const go=async(e,t,r=Ne.DEFAULT_WRITE_OPTIONS)=>{var n;if(qe.default.isString(r))return go(e,t,{encoding:r});const s=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:Ne.DEFAULT_TIMEOUT_ASYNC);let a=null,i=null,u=null,o=null,c=null;try{r.schedule&&(a=await r.schedule(e)),i=await Rc.default.schedule(e),e=await ie.default.realpathAttempt(e)||e,[o,u]=$t.default.get(e,r.tmpCreate||$t.default.create,r.tmpPurge!==!1);const f=Ne.IS_POSIX&&qe.default.isUndefined(r.chown),h=qe.default.isUndefined(r.mode);if(f||h){const E=await ie.default.statAttempt(e);E&&(r={...r},f&&(r.chown={uid:E.uid,gid:E.gid}),h&&(r.mode=E.mode))}const P=mo.dirname(e);await ie.default.mkdirAttempt(P,{mode:Ne.DEFAULT_FOLDER_MODE,recursive:!0}),c=await ie.default.openRetry(s)(o,"w",r.mode||Ne.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(o),qe.default.isString(t)?await ie.default.writeRetry(s)(c,t,0,r.encoding||Ne.DEFAULT_ENCODING):qe.default.isUndefined(t)||await ie.default.writeRetry(s)(c,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?await ie.default.fsyncRetry(s)(c):ie.default.fsyncAttempt(c)),await ie.default.closeRetry(s)(c),c=null,r.chown&&await ie.default.chownAttempt(o,r.chown.uid,r.chown.gid),r.mode&&await ie.default.chmodAttempt(o,r.mode);try{await ie.default.renameRetry(s)(o,e)}catch(E){if(E.code!=="ENAMETOOLONG")throw E;await ie.default.renameRetry(s)(o,$t.default.truncate(e))}u(),o=null}finally{c&&await ie.default.closeAttempt(c),o&&$t.default.purge(o),a&&a(),i&&i()}},_o=(e,t,r=Ne.DEFAULT_WRITE_OPTIONS)=>{var n;if(qe.default.isString(r))return _o(e,t,{encoding:r});const s=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:Ne.DEFAULT_TIMEOUT_SYNC);let a=null,i=null,u=null;try{e=ie.default.realpathSyncAttempt(e)||e,[i,a]=$t.default.get(e,r.tmpCreate||$t.default.create,r.tmpPurge!==!1);const o=Ne.IS_POSIX&&qe.default.isUndefined(r.chown),c=qe.default.isUndefined(r.mode);if(o||c){const h=ie.default.statSyncAttempt(e);h&&(r={...r},o&&(r.chown={uid:h.uid,gid:h.gid}),c&&(r.mode=h.mode))}const f=mo.dirname(e);ie.default.mkdirSyncAttempt(f,{mode:Ne.DEFAULT_FOLDER_MODE,recursive:!0}),u=ie.default.openSyncRetry(s)(i,"w",r.mode||Ne.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(i),qe.default.isString(t)?ie.default.writeSyncRetry(s)(u,t,0,r.encoding||Ne.DEFAULT_ENCODING):qe.default.isUndefined(t)||ie.default.writeSyncRetry(s)(u,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?ie.default.fsyncSyncRetry(s)(u):ie.default.fsyncAttempt(u)),ie.default.closeSyncRetry(s)(u),u=null,r.chown&&ie.default.chownSyncAttempt(i,r.chown.uid,r.chown.gid),r.mode&&ie.default.chmodSyncAttempt(i,r.mode);try{ie.default.renameSyncRetry(s)(i,e)}catch(h){if(h.code!=="ENAMETOOLONG")throw h;ie.default.renameSyncRetry(s)(i,$t.default.truncate(e))}a(),i=null}finally{u&&ie.default.closeSyncAttempt(u),i&&$t.default.purge(i)}};ot.writeFileSync=_o;var bn={exports:{}},Eo={},Be={},Bt={},wr={},Z={},Er={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(O){if(super(),!e.IDENTIFIER.test(O))throw new Error("CodeGen: name must be a valid identifier");this.str=O}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(O){super(),this._items=typeof O=="string"?[O]:O}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const O=this._items[0];return O===""||O==='""'}get str(){var O;return(O=this._str)!==null&&O!==void 0?O:this._str=this._items.reduce((D,k)=>`${D}${k}`,"")}get names(){var O;return(O=this._names)!==null&&O!==void 0?O:this._names=this._items.reduce((D,k)=>(k instanceof r&&(D[k.str]=(D[k.str]||0)+1),D),{})}}e._Code=n,e.nil=new n("");function s(v,...O){const D=[v[0]];let k=0;for(;k<O.length;)u(D,O[k]),D.push(v[++k]);return new n(D)}e._=s;const a=new n("+");function i(v,...O){const D=[E(v[0])];let k=0;for(;k<O.length;)D.push(a),u(D,O[k]),D.push(a,E(v[++k]));return o(D),new n(D)}e.str=i;function u(v,O){O instanceof n?v.push(...O._items):O instanceof r?v.push(O):v.push(h(O))}e.addCodeArg=u;function o(v){let O=1;for(;O<v.length-1;){if(v[O]===a){const D=c(v[O-1],v[O+1]);if(D!==void 0){v.splice(O-1,3,D);continue}v[O++]="+"}O++}}function c(v,O){if(O==='""')return v;if(v==='""')return O;if(typeof v=="string")return O instanceof r||v[v.length-1]!=='"'?void 0:typeof O!="string"?`${v.slice(0,-1)}${O}"`:O[0]==='"'?v.slice(0,-1)+O.slice(1):void 0;if(typeof O=="string"&&O[0]==='"'&&!(v instanceof r))return`"${v}${O.slice(1)}`}function f(v,O){return O.emptyStr()?v:v.emptyStr()?O:i`${v}${O}`}e.strConcat=f;function h(v){return typeof v=="number"||typeof v=="boolean"||v===null?v:E(Array.isArray(v)?v.join(","):v)}function P(v){return new n(E(v))}e.stringify=P;function E(v){return JSON.stringify(v).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=E;function $(v){return typeof v=="string"&&e.IDENTIFIER.test(v)?new n(`.${v}`):s`[${v}]`}e.getProperty=$;function b(v){if(typeof v=="string"&&e.IDENTIFIER.test(v))return new n(`${v}`);throw new Error(`CodeGen: invalid export name: ${v}, use explicit $id name mapping`)}e.getEsmExportName=b;function w(v){return new n(v.toString())}e.regexpCode=w})(Er);var On={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Er;class r extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var n;(function(o){o[o.Started=0]="Started",o[o.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class s{constructor({prefixes:c,parent:f}={}){this._names={},this._prefixes=c,this._parent=f}toName(c){return c instanceof t.Name?c:this.name(c)}name(c){return new t.Name(this._newName(c))}_newName(c){const f=this._names[c]||this._nameGroup(c);return`${c}${f.index++}`}_nameGroup(c){var f,h;if(!((h=(f=this._parent)===null||f===void 0?void 0:f._prefixes)===null||h===void 0)&&h.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}e.Scope=s;class a extends t.Name{constructor(c,f){super(f),this.prefix=c}setValue(c,{property:f,itemIndex:h}){this.value=c,this.scopePath=(0,t._)`.${new t.Name(f)}[${h}]`}}e.ValueScopeName=a;const i=(0,t._)`\n`;class u extends s{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?i:t.nil}}get(){return this._scope}name(c){return new a(c,this._newName(c))}value(c,f){var h;if(f.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const P=this.toName(c),{prefix:E}=P,$=(h=f.key)!==null&&h!==void 0?h:f.ref;let b=this._values[E];if(b){const O=b.get($);if(O)return O}else b=this._values[E]=new Map;b.set($,P);const w=this._scope[E]||(this._scope[E]=[]),v=w.length;return w[v]=f.ref,P.setValue(f,{property:E,itemIndex:v}),P}getValue(c,f){const h=this._values[c];if(h)return h.get(f)}scopeRefs(c,f=this._values){return this._reduceValues(f,h=>{if(h.scopePath===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return(0,t._)`${c}${h.scopePath}`})}scopeCode(c=this._values,f,h){return this._reduceValues(c,P=>{if(P.value===void 0)throw new Error(`CodeGen: name "${P}" has no value`);return P.value.code},f,h)}_reduceValues(c,f,h={},P){let E=t.nil;for(const $ in c){const b=c[$];if(!b)continue;const w=h[$]=h[$]||new Map;b.forEach(v=>{if(w.has(v))return;w.set(v,n.Started);let O=f(v);if(O){const D=this.opts.es5?e.varKinds.var:e.varKinds.const;E=(0,t._)`${E}${D} ${v} = ${O};${this.opts._n}`}else if(O=P==null?void 0:P(v))E=(0,t._)`${E}${O}${this.opts._n}`;else throw new r(v);w.set(v,n.Completed)})}return E}}e.ValueScope=u})(On);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Er,r=On;var n=Er;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var s=On;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(l,p){return this}}class i extends a{constructor(l,p,A){super(),this.varKind=l,this.name=p,this.rhs=A}render({es5:l,_n:p}){const A=l?r.varKinds.var:this.varKind,F=this.rhs===void 0?"":` = ${this.rhs}`;return`${A} ${this.name}${F};`+p}optimizeNames(l,p){if(l[this.name.str])return this.rhs&&(this.rhs=j(this.rhs,l,p)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class u extends a{constructor(l,p,A){super(),this.lhs=l,this.rhs=p,this.sideEffects=A}render({_n:l}){return`${this.lhs} = ${this.rhs};`+l}optimizeNames(l,p){if(!(this.lhs instanceof t.Name&&!l[this.lhs.str]&&!this.sideEffects))return this.rhs=j(this.rhs,l,p),this}get names(){const l=this.lhs instanceof t.Name?{}:{...this.lhs.names};return L(l,this.rhs)}}class o extends u{constructor(l,p,A,F){super(l,A,F),this.op=p}render({_n:l}){return`${this.lhs} ${this.op}= ${this.rhs};`+l}}class c extends a{constructor(l){super(),this.label=l,this.names={}}render({_n:l}){return`${this.label}:`+l}}class f extends a{constructor(l){super(),this.label=l,this.names={}}render({_n:l}){return`break${this.label?` ${this.label}`:""};`+l}}class h extends a{constructor(l){super(),this.error=l}render({_n:l}){return`throw ${this.error};`+l}get names(){return this.error.names}}class P extends a{constructor(l){super(),this.code=l}render({_n:l}){return`${this.code};`+l}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(l,p){return this.code=j(this.code,l,p),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class E extends a{constructor(l=[]){super(),this.nodes=l}render(l){return this.nodes.reduce((p,A)=>p+A.render(l),"")}optimizeNodes(){const{nodes:l}=this;let p=l.length;for(;p--;){const A=l[p].optimizeNodes();Array.isArray(A)?l.splice(p,1,...A):A?l[p]=A:l.splice(p,1)}return l.length>0?this:void 0}optimizeNames(l,p){const{nodes:A}=this;let F=A.length;for(;F--;){const U=A[F];U.optimizeNames(l,p)||(q(l,U.names),A.splice(F,1))}return A.length>0?this:void 0}get names(){return this.nodes.reduce((l,p)=>J(l,p.names),{})}}class $ extends E{render(l){return"{"+l._n+super.render(l)+"}"+l._n}}class b extends E{}class w extends ${}w.kind="else";class v extends ${constructor(l,p){super(p),this.condition=l}render(l){let p=`if(${this.condition})`+super.render(l);return this.else&&(p+="else "+this.else.render(l)),p}optimizeNodes(){super.optimizeNodes();const l=this.condition;if(l===!0)return this.nodes;let p=this.else;if(p){const A=p.optimizeNodes();p=this.else=Array.isArray(A)?new w(A):A}if(p)return l===!1?p instanceof v?p:p.nodes:this.nodes.length?this:new v(G(l),p instanceof v?[p]:p.nodes);if(!(l===!1||!this.nodes.length))return this}optimizeNames(l,p){var A;if(this.else=(A=this.else)===null||A===void 0?void 0:A.optimizeNames(l,p),!!(super.optimizeNames(l,p)||this.else))return this.condition=j(this.condition,l,p),this}get names(){const l=super.names;return L(l,this.condition),this.else&&J(l,this.else.names),l}}v.kind="if";class O extends ${}O.kind="for";class D extends O{constructor(l){super(),this.iteration=l}render(l){return`for(${this.iteration})`+super.render(l)}optimizeNames(l,p){if(super.optimizeNames(l,p))return this.iteration=j(this.iteration,l,p),this}get names(){return J(super.names,this.iteration.names)}}class k extends O{constructor(l,p,A,F){super(),this.varKind=l,this.name=p,this.from=A,this.to=F}render(l){const p=l.es5?r.varKinds.var:this.varKind,{name:A,from:F,to:U}=this;return`for(${p} ${A}=${F}; ${A}<${U}; ${A}++)`+super.render(l)}get names(){const l=L(super.names,this.from);return L(l,this.to)}}class V extends O{constructor(l,p,A,F){super(),this.loop=l,this.varKind=p,this.name=A,this.iterable=F}render(l){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(l)}optimizeNames(l,p){if(super.optimizeNames(l,p))return this.iterable=j(this.iterable,l,p),this}get names(){return J(super.names,this.iterable.names)}}class te extends ${constructor(l,p,A){super(),this.name=l,this.args=p,this.async=A}render(l){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(l)}}te.kind="func";class oe extends E{render(l){return"return "+super.render(l)}}oe.kind="return";class Re extends ${render(l){let p="try"+super.render(l);return this.catch&&(p+=this.catch.render(l)),this.finally&&(p+=this.finally.render(l)),p}optimizeNodes(){var l,p;return super.optimizeNodes(),(l=this.catch)===null||l===void 0||l.optimizeNodes(),(p=this.finally)===null||p===void 0||p.optimizeNodes(),this}optimizeNames(l,p){var A,F;return super.optimizeNames(l,p),(A=this.catch)===null||A===void 0||A.optimizeNames(l,p),(F=this.finally)===null||F===void 0||F.optimizeNames(l,p),this}get names(){const l=super.names;return this.catch&&J(l,this.catch.names),this.finally&&J(l,this.finally.names),l}}class x extends ${constructor(l){super(),this.error=l}render(l){return`catch(${this.error})`+super.render(l)}}x.kind="catch";class B extends ${render(l){return"finally"+super.render(l)}}B.kind="finally";class le{constructor(l,p={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...p,_n:p.lines?`
`:""},this._extScope=l,this._scope=new r.Scope({parent:l}),this._nodes=[new b]}toString(){return this._root.render(this.opts)}name(l){return this._scope.name(l)}scopeName(l){return this._extScope.name(l)}scopeValue(l,p){const A=this._extScope.value(l,p);return(this._values[A.prefix]||(this._values[A.prefix]=new Set)).add(A),A}getScopeValue(l,p){return this._extScope.getValue(l,p)}scopeRefs(l){return this._extScope.scopeRefs(l,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(l,p,A,F){const U=this._scope.toName(p);return A!==void 0&&F&&(this._constants[U.str]=A),this._leafNode(new i(l,U,A)),U}const(l,p,A){return this._def(r.varKinds.const,l,p,A)}let(l,p,A){return this._def(r.varKinds.let,l,p,A)}var(l,p,A){return this._def(r.varKinds.var,l,p,A)}assign(l,p,A){return this._leafNode(new u(l,p,A))}add(l,p){return this._leafNode(new o(l,e.operators.ADD,p))}code(l){return typeof l=="function"?l():l!==t.nil&&this._leafNode(new P(l)),this}object(...l){const p=["{"];for(const[A,F]of l)p.length>1&&p.push(","),p.push(A),(A!==F||this.opts.es5)&&(p.push(":"),(0,t.addCodeArg)(p,F));return p.push("}"),new t._Code(p)}if(l,p,A){if(this._blockNode(new v(l)),p&&A)this.code(p).else().code(A).endIf();else if(p)this.code(p).endIf();else if(A)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(l){return this._elseNode(new v(l))}else(){return this._elseNode(new w)}endIf(){return this._endBlockNode(v,w)}_for(l,p){return this._blockNode(l),p&&this.code(p).endFor(),this}for(l,p){return this._for(new D(l),p)}forRange(l,p,A,F,U=this.opts.es5?r.varKinds.var:r.varKinds.let){const re=this._scope.toName(l);return this._for(new k(U,re,p,A),()=>F(re))}forOf(l,p,A,F=r.varKinds.const){const U=this._scope.toName(l);if(this.opts.es5){const re=p instanceof t.Name?p:this.var("_arr",p);return this.forRange("_i",0,(0,t._)`${re}.length`,se=>{this.var(U,(0,t._)`${re}[${se}]`),A(U)})}return this._for(new V("of",F,U,p),()=>A(U))}forIn(l,p,A,F=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(l,(0,t._)`Object.keys(${p})`,A);const U=this._scope.toName(l);return this._for(new V("in",F,U,p),()=>A(U))}endFor(){return this._endBlockNode(O)}label(l){return this._leafNode(new c(l))}break(l){return this._leafNode(new f(l))}return(l){const p=new oe;if(this._blockNode(p),this.code(l),p.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(oe)}try(l,p,A){if(!p&&!A)throw new Error('CodeGen: "try" without "catch" and "finally"');const F=new Re;if(this._blockNode(F),this.code(l),p){const U=this.name("e");this._currNode=F.catch=new x(U),p(U)}return A&&(this._currNode=F.finally=new B,this.code(A)),this._endBlockNode(x,B)}throw(l){return this._leafNode(new h(l))}block(l,p){return this._blockStarts.push(this._nodes.length),l&&this.code(l).endBlock(p),this}endBlock(l){const p=this._blockStarts.pop();if(p===void 0)throw new Error("CodeGen: not in self-balancing block");const A=this._nodes.length-p;if(A<0||l!==void 0&&A!==l)throw new Error(`CodeGen: wrong number of nodes: ${A} vs ${l} expected`);return this._nodes.length=p,this}func(l,p=t.nil,A,F){return this._blockNode(new te(l,p,A)),F&&this.code(F).endFunc(),this}endFunc(){return this._endBlockNode(te)}optimize(l=1){for(;l-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(l){return this._currNode.nodes.push(l),this}_blockNode(l){this._currNode.nodes.push(l),this._nodes.push(l)}_endBlockNode(l,p){const A=this._currNode;if(A instanceof l||p&&A instanceof p)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${p?`${l.kind}/${p.kind}`:l.kind}"`)}_elseNode(l){const p=this._currNode;if(!(p instanceof v))throw new Error('CodeGen: "else" without "if"');return this._currNode=p.else=l,this}get _root(){return this._nodes[0]}get _currNode(){const l=this._nodes;return l[l.length-1]}set _currNode(l){const p=this._nodes;p[p.length-1]=l}}e.CodeGen=le;function J(S,l){for(const p in l)S[p]=(S[p]||0)+(l[p]||0);return S}function L(S,l){return l instanceof t._CodeOrName?J(S,l.names):S}function j(S,l,p){if(S instanceof t.Name)return A(S);if(!F(S))return S;return new t._Code(S._items.reduce((U,re)=>(re instanceof t.Name&&(re=A(re)),re instanceof t._Code?U.push(...re._items):U.push(re),U),[]));function A(U){const re=p[U.str];return re===void 0||l[U.str]!==1?U:(delete l[U.str],re)}function F(U){return U instanceof t._Code&&U._items.some(re=>re instanceof t.Name&&l[re.str]===1&&p[re.str]!==void 0)}}function q(S,l){for(const p in l)S[p]=(S[p]||0)-(l[p]||0)}function G(S){return typeof S=="boolean"||typeof S=="number"||S===null?!S:(0,t._)`!${N(S)}`}e.not=G;const M=m(e.operators.AND);function R(...S){return S.reduce(M)}e.and=R;const C=m(e.operators.OR);function _(...S){return S.reduce(C)}e.or=_;function m(S){return(l,p)=>l===t.nil?p:p===t.nil?l:(0,t._)`${N(l)} ${S} ${N(p)}`}function N(S){return S instanceof t.Name?S:(0,t._)`(${S})`}})(Z);var z={};Object.defineProperty(z,"__esModule",{value:!0});z.checkStrictMode=z.getErrorPath=z.Type=z.useFunc=z.setEvaluated=z.evaluatedPropsToName=z.mergeEvaluated=z.eachItem=z.unescapeJsonPointer=z.escapeJsonPointer=z.escapeFragment=z.unescapeFragment=z.schemaRefOrVal=z.schemaHasRulesButRef=z.schemaHasRules=z.checkUnknownRules=z.alwaysValidSchema=z.toHash=void 0;const fe=Z,Pc=Er;function Nc(e){const t={};for(const r of e)t[r]=!0;return t}z.toHash=Nc;function Ic(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(wo(e,t),!So(t,e.self.RULES.all))}z.alwaysValidSchema=Ic;function wo(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const s=n.RULES.keywords;for(const a in t)s[a]||Ro(e,`unknown keyword: "${a}"`)}z.checkUnknownRules=wo;function So(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}z.schemaHasRules=So;function Tc(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}z.schemaHasRulesButRef=Tc;function Ac({topSchemaRef:e,schemaPath:t},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,fe._)`${r}`}return(0,fe._)`${e}${t}${(0,fe.getProperty)(n)}`}z.schemaRefOrVal=Ac;function Cc(e){return bo(decodeURIComponent(e))}z.unescapeFragment=Cc;function Dc(e){return encodeURIComponent(Yn(e))}z.escapeFragment=Dc;function Yn(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}z.escapeJsonPointer=Yn;function bo(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}z.unescapeJsonPointer=bo;function jc(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}z.eachItem=jc;function ca({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(s,a,i,u)=>{const o=i===void 0?a:i instanceof fe.Name?(a instanceof fe.Name?e(s,a,i):t(s,a,i),i):a instanceof fe.Name?(t(s,i,a),a):r(a,i);return u===fe.Name&&!(o instanceof fe.Name)?n(s,o):o}}z.mergeEvaluated={props:ca({mergeNames:(e,t,r)=>e.if((0,fe._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,fe._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,fe._)`${r} || {}`).code((0,fe._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,fe._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,fe._)`${r} || {}`),Jn(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:Oo}),items:ca({mergeNames:(e,t,r)=>e.if((0,fe._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,fe._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,fe._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,fe._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function Oo(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,fe._)`{}`);return t!==void 0&&Jn(e,r,t),r}z.evaluatedPropsToName=Oo;function Jn(e,t,r){Object.keys(r).forEach(n=>e.assign((0,fe._)`${t}${(0,fe.getProperty)(n)}`,!0))}z.setEvaluated=Jn;const la={};function Lc(e,t){return e.scopeValue("func",{ref:t,code:la[t.code]||(la[t.code]=new Pc._Code(t.code))})}z.useFunc=Lc;var Rn;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(Rn||(z.Type=Rn={}));function kc(e,t,r){if(e instanceof fe.Name){const n=t===Rn.Num;return r?n?(0,fe._)`"[" + ${e} + "]"`:(0,fe._)`"['" + ${e} + "']"`:n?(0,fe._)`"/" + ${e}`:(0,fe._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,fe.getProperty)(e).toString():"/"+Yn(e)}z.getErrorPath=kc;function Ro(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}z.checkStrictMode=Ro;var ct={};Object.defineProperty(ct,"__esModule",{value:!0});const Te=Z,Fc={data:new Te.Name("data"),valCxt:new Te.Name("valCxt"),instancePath:new Te.Name("instancePath"),parentData:new Te.Name("parentData"),parentDataProperty:new Te.Name("parentDataProperty"),rootData:new Te.Name("rootData"),dynamicAnchors:new Te.Name("dynamicAnchors"),vErrors:new Te.Name("vErrors"),errors:new Te.Name("errors"),this:new Te.Name("this"),self:new Te.Name("self"),scope:new Te.Name("scope"),json:new Te.Name("json"),jsonPos:new Te.Name("jsonPos"),jsonLen:new Te.Name("jsonLen"),jsonPart:new Te.Name("jsonPart")};ct.default=Fc;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Z,r=z,n=ct;e.keywordError={message:({keyword:w})=>(0,t.str)`must pass "${w}" keyword validation`},e.keyword$DataError={message:({keyword:w,schemaType:v})=>v?(0,t.str)`"${w}" keyword must be ${v} ($data)`:(0,t.str)`"${w}" keyword is invalid ($data)`};function s(w,v=e.keywordError,O,D){const{it:k}=w,{gen:V,compositeRule:te,allErrors:oe}=k,Re=h(w,v,O);D??(te||oe)?o(V,Re):c(k,(0,t._)`[${Re}]`)}e.reportError=s;function a(w,v=e.keywordError,O){const{it:D}=w,{gen:k,compositeRule:V,allErrors:te}=D,oe=h(w,v,O);o(k,oe),V||te||c(D,n.default.vErrors)}e.reportExtraError=a;function i(w,v){w.assign(n.default.errors,v),w.if((0,t._)`${n.default.vErrors} !== null`,()=>w.if(v,()=>w.assign((0,t._)`${n.default.vErrors}.length`,v),()=>w.assign(n.default.vErrors,null)))}e.resetErrorsCount=i;function u({gen:w,keyword:v,schemaValue:O,data:D,errsCount:k,it:V}){if(k===void 0)throw new Error("ajv implementation error");const te=w.name("err");w.forRange("i",k,n.default.errors,oe=>{w.const(te,(0,t._)`${n.default.vErrors}[${oe}]`),w.if((0,t._)`${te}.instancePath === undefined`,()=>w.assign((0,t._)`${te}.instancePath`,(0,t.strConcat)(n.default.instancePath,V.errorPath))),w.assign((0,t._)`${te}.schemaPath`,(0,t.str)`${V.errSchemaPath}/${v}`),V.opts.verbose&&(w.assign((0,t._)`${te}.schema`,O),w.assign((0,t._)`${te}.data`,D))})}e.extendErrors=u;function o(w,v){const O=w.const("err",v);w.if((0,t._)`${n.default.vErrors} === null`,()=>w.assign(n.default.vErrors,(0,t._)`[${O}]`),(0,t._)`${n.default.vErrors}.push(${O})`),w.code((0,t._)`${n.default.errors}++`)}function c(w,v){const{gen:O,validateName:D,schemaEnv:k}=w;k.$async?O.throw((0,t._)`new ${w.ValidationError}(${v})`):(O.assign((0,t._)`${D}.errors`,v),O.return(!1))}const f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function h(w,v,O){const{createErrors:D}=w.it;return D===!1?(0,t._)`{}`:P(w,v,O)}function P(w,v,O={}){const{gen:D,it:k}=w,V=[E(k,O),$(w,O)];return b(w,v,V),D.object(...V)}function E({errorPath:w},{instancePath:v}){const O=v?(0,t.str)`${w}${(0,r.getErrorPath)(v,r.Type.Str)}`:w;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,O)]}function $({keyword:w,it:{errSchemaPath:v}},{schemaPath:O,parentSchema:D}){let k=D?v:(0,t.str)`${v}/${w}`;return O&&(k=(0,t.str)`${k}${(0,r.getErrorPath)(O,r.Type.Str)}`),[f.schemaPath,k]}function b(w,{params:v,message:O},D){const{keyword:k,data:V,schemaValue:te,it:oe}=w,{opts:Re,propertyName:x,topSchemaRef:B,schemaPath:le}=oe;D.push([f.keyword,k],[f.params,typeof v=="function"?v(w):v||(0,t._)`{}`]),Re.messages&&D.push([f.message,typeof O=="function"?O(w):O]),Re.verbose&&D.push([f.schema,te],[f.parentSchema,(0,t._)`${B}${le}`],[n.default.data,V]),x&&D.push([f.propertyName,x])}})(wr);Object.defineProperty(Bt,"__esModule",{value:!0});Bt.boolOrEmptySchema=Bt.topBoolOrEmptySchema=void 0;const Mc=wr,Uc=Z,Vc=ct,zc={message:"boolean schema is false"};function qc(e){const{gen:t,schema:r,validateName:n}=e;r===!1?Po(e,!1):typeof r=="object"&&r.$async===!0?t.return(Vc.default.data):(t.assign((0,Uc._)`${n}.errors`,null),t.return(!0))}Bt.topBoolOrEmptySchema=qc;function Gc(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),Po(e)):r.var(t,!0)}Bt.boolOrEmptySchema=Gc;function Po(e,t){const{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Mc.reportError)(s,zc,void 0,t)}var be={},It={};Object.defineProperty(It,"__esModule",{value:!0});It.getRules=It.isJSONType=void 0;const Kc=["string","number","integer","boolean","null","object","array"],Hc=new Set(Kc);function xc(e){return typeof e=="string"&&Hc.has(e)}It.isJSONType=xc;function Xc(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}It.getRules=Xc;var ut={};Object.defineProperty(ut,"__esModule",{value:!0});ut.shouldUseRule=ut.shouldUseGroup=ut.schemaHasRulesForType=void 0;function Wc({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&No(e,n)}ut.schemaHasRulesForType=Wc;function No(e,t){return t.rules.some(r=>Io(e,r))}ut.shouldUseGroup=No;function Io(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}ut.shouldUseRule=Io;Object.defineProperty(be,"__esModule",{value:!0});be.reportTypeError=be.checkDataTypes=be.checkDataType=be.coerceAndCheckDataType=be.getJSONTypes=be.getSchemaTypes=be.DataType=void 0;const Bc=It,Yc=ut,Jc=wr,Q=Z,To=z;var Kt;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(Kt||(be.DataType=Kt={}));function Qc(e){const t=Ao(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}be.getSchemaTypes=Qc;function Ao(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(Bc.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}be.getJSONTypes=Ao;function Zc(e,t){const{gen:r,data:n,opts:s}=e,a=el(t,s.coerceTypes),i=t.length>0&&!(a.length===0&&t.length===1&&(0,Yc.schemaHasRulesForType)(e,t[0]));if(i){const u=Qn(t,n,s.strictNumbers,Kt.Wrong);r.if(u,()=>{a.length?tl(e,t,a):Zn(e)})}return i}be.coerceAndCheckDataType=Zc;const Co=new Set(["string","number","integer","boolean","null"]);function el(e,t){return t?e.filter(r=>Co.has(r)||t==="array"&&r==="array"):[]}function tl(e,t,r){const{gen:n,data:s,opts:a}=e,i=n.let("dataType",(0,Q._)`typeof ${s}`),u=n.let("coerced",(0,Q._)`undefined`);a.coerceTypes==="array"&&n.if((0,Q._)`${i} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,Q._)`${s}[0]`).assign(i,(0,Q._)`typeof ${s}`).if(Qn(t,s,a.strictNumbers),()=>n.assign(u,s))),n.if((0,Q._)`${u} !== undefined`);for(const c of r)(Co.has(c)||c==="array"&&a.coerceTypes==="array")&&o(c);n.else(),Zn(e),n.endIf(),n.if((0,Q._)`${u} !== undefined`,()=>{n.assign(s,u),rl(e,u)});function o(c){switch(c){case"string":n.elseIf((0,Q._)`${i} == "number" || ${i} == "boolean"`).assign(u,(0,Q._)`"" + ${s}`).elseIf((0,Q._)`${s} === null`).assign(u,(0,Q._)`""`);return;case"number":n.elseIf((0,Q._)`${i} == "boolean" || ${s} === null
              || (${i} == "string" && ${s} && ${s} == +${s})`).assign(u,(0,Q._)`+${s}`);return;case"integer":n.elseIf((0,Q._)`${i} === "boolean" || ${s} === null
              || (${i} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(u,(0,Q._)`+${s}`);return;case"boolean":n.elseIf((0,Q._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(u,!1).elseIf((0,Q._)`${s} === "true" || ${s} === 1`).assign(u,!0);return;case"null":n.elseIf((0,Q._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(u,null);return;case"array":n.elseIf((0,Q._)`${i} === "string" || ${i} === "number"
              || ${i} === "boolean" || ${s} === null`).assign(u,(0,Q._)`[${s}]`)}}}function rl({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,Q._)`${t} !== undefined`,()=>e.assign((0,Q._)`${t}[${r}]`,n))}function Pn(e,t,r,n=Kt.Correct){const s=n===Kt.Correct?Q.operators.EQ:Q.operators.NEQ;let a;switch(e){case"null":return(0,Q._)`${t} ${s} null`;case"array":a=(0,Q._)`Array.isArray(${t})`;break;case"object":a=(0,Q._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":a=i((0,Q._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":a=i();break;default:return(0,Q._)`typeof ${t} ${s} ${e}`}return n===Kt.Correct?a:(0,Q.not)(a);function i(u=Q.nil){return(0,Q.and)((0,Q._)`typeof ${t} == "number"`,u,r?(0,Q._)`isFinite(${t})`:Q.nil)}}be.checkDataType=Pn;function Qn(e,t,r,n){if(e.length===1)return Pn(e[0],t,r,n);let s;const a=(0,To.toHash)(e);if(a.array&&a.object){const i=(0,Q._)`typeof ${t} != "object"`;s=a.null?i:(0,Q._)`!${t} || ${i}`,delete a.null,delete a.array,delete a.object}else s=Q.nil;a.number&&delete a.integer;for(const i in a)s=(0,Q.and)(s,Pn(i,t,r,n));return s}be.checkDataTypes=Qn;const nl={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,Q._)`{type: ${e}}`:(0,Q._)`{type: ${t}}`};function Zn(e){const t=sl(e);(0,Jc.reportError)(t,nl)}be.reportTypeError=Zn;function sl(e){const{gen:t,data:r,schema:n}=e,s=(0,To.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:e}}var Zr={};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.assignDefaults=void 0;const Ut=Z,al=z;function ol(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const s in r)ua(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,a)=>ua(e,a,s.default))}Zr.assignDefaults=ol;function ua(e,t,r){const{gen:n,compositeRule:s,data:a,opts:i}=e;if(r===void 0)return;const u=(0,Ut._)`${a}${(0,Ut.getProperty)(t)}`;if(s){(0,al.checkStrictMode)(e,`default is ignored for: ${u}`);return}let o=(0,Ut._)`${u} === undefined`;i.useDefaults==="empty"&&(o=(0,Ut._)`${o} || ${u} === null || ${u} === ""`),n.if(o,(0,Ut._)`${u} = ${(0,Ut.stringify)(r)}`)}var it={},ee={};Object.defineProperty(ee,"__esModule",{value:!0});ee.validateUnion=ee.validateArray=ee.usePattern=ee.callValidateCode=ee.schemaProperties=ee.allSchemaProperties=ee.noPropertyInData=ee.propertyInData=ee.isOwnProperty=ee.hasPropFunc=ee.reportMissingProp=ee.checkMissingProp=ee.checkReportMissingProp=void 0;const me=Z,es=z,ht=ct,il=z;function cl(e,t){const{gen:r,data:n,it:s}=e;r.if(rs(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,me._)`${t}`},!0),e.error()})}ee.checkReportMissingProp=cl;function ll({gen:e,data:t,it:{opts:r}},n,s){return(0,me.or)(...n.map(a=>(0,me.and)(rs(e,t,a,r.ownProperties),(0,me._)`${s} = ${a}`)))}ee.checkMissingProp=ll;function ul(e,t){e.setParams({missingProperty:t},!0),e.error()}ee.reportMissingProp=ul;function Do(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,me._)`Object.prototype.hasOwnProperty`})}ee.hasPropFunc=Do;function ts(e,t,r){return(0,me._)`${Do(e)}.call(${t}, ${r})`}ee.isOwnProperty=ts;function fl(e,t,r,n){const s=(0,me._)`${t}${(0,me.getProperty)(r)} !== undefined`;return n?(0,me._)`${s} && ${ts(e,t,r)}`:s}ee.propertyInData=fl;function rs(e,t,r,n){const s=(0,me._)`${t}${(0,me.getProperty)(r)} === undefined`;return n?(0,me.or)(s,(0,me.not)(ts(e,t,r))):s}ee.noPropertyInData=rs;function jo(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}ee.allSchemaProperties=jo;function dl(e,t){return jo(t).filter(r=>!(0,es.alwaysValidSchema)(e,t[r]))}ee.schemaProperties=dl;function hl({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:a},it:i},u,o,c){const f=c?(0,me._)`${e}, ${t}, ${n}${s}`:t,h=[[ht.default.instancePath,(0,me.strConcat)(ht.default.instancePath,a)],[ht.default.parentData,i.parentData],[ht.default.parentDataProperty,i.parentDataProperty],[ht.default.rootData,ht.default.rootData]];i.opts.dynamicRef&&h.push([ht.default.dynamicAnchors,ht.default.dynamicAnchors]);const P=(0,me._)`${f}, ${r.object(...h)}`;return o!==me.nil?(0,me._)`${u}.call(${o}, ${P})`:(0,me._)`${u}(${P})`}ee.callValidateCode=hl;const pl=(0,me._)`new RegExp`;function ml({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,a=s(r,n);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,me._)`${s.code==="new RegExp"?pl:(0,il.useFunc)(e,s)}(${r}, ${n})`})}ee.usePattern=ml;function yl(e){const{gen:t,data:r,keyword:n,it:s}=e,a=t.name("valid");if(s.allErrors){const u=t.let("valid",!0);return i(()=>t.assign(u,!1)),u}return t.var(a,!0),i(()=>t.break()),a;function i(u){const o=t.const("len",(0,me._)`${r}.length`);t.forRange("i",0,o,c=>{e.subschema({keyword:n,dataProp:c,dataPropType:es.Type.Num},a),t.if((0,me.not)(a),u)})}}ee.validateArray=yl;function $l(e){const{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(o=>(0,es.alwaysValidSchema)(s,o))&&!s.opts.unevaluated)return;const i=t.let("valid",!1),u=t.name("_valid");t.block(()=>r.forEach((o,c)=>{const f=e.subschema({keyword:n,schemaProp:c,compositeRule:!0},u);t.assign(i,(0,me._)`${i} || ${u}`),e.mergeValidEvaluated(f,u)||t.if((0,me.not)(i))})),e.result(i,()=>e.reset(),()=>e.error(!0))}ee.validateUnion=$l;Object.defineProperty(it,"__esModule",{value:!0});it.validateKeywordUsage=it.validSchemaType=it.funcKeywordCode=it.macroKeywordCode=void 0;const De=Z,Rt=ct,vl=ee,gl=wr;function _l(e,t){const{gen:r,keyword:n,schema:s,parentSchema:a,it:i}=e,u=t.macro.call(i.self,s,a,i),o=Lo(r,n,u);i.opts.validateSchema!==!1&&i.self.validateSchema(u,!0);const c=r.name("valid");e.subschema({schema:u,schemaPath:De.nil,errSchemaPath:`${i.errSchemaPath}/${n}`,topSchemaRef:o,compositeRule:!0},c),e.pass(c,()=>e.error(!0))}it.macroKeywordCode=_l;function El(e,t){var r;const{gen:n,keyword:s,schema:a,parentSchema:i,$data:u,it:o}=e;Sl(o,t);const c=!u&&t.compile?t.compile.call(o.self,a,i,o):t.validate,f=Lo(n,s,c),h=n.let("valid");e.block$data(h,P),e.ok((r=t.valid)!==null&&r!==void 0?r:h);function P(){if(t.errors===!1)b(),t.modifying&&fa(e),w(()=>e.error());else{const v=t.async?E():$();t.modifying&&fa(e),w(()=>wl(e,v))}}function E(){const v=n.let("ruleErrs",null);return n.try(()=>b((0,De._)`await `),O=>n.assign(h,!1).if((0,De._)`${O} instanceof ${o.ValidationError}`,()=>n.assign(v,(0,De._)`${O}.errors`),()=>n.throw(O))),v}function $(){const v=(0,De._)`${f}.errors`;return n.assign(v,null),b(De.nil),v}function b(v=t.async?(0,De._)`await `:De.nil){const O=o.opts.passContext?Rt.default.this:Rt.default.self,D=!("compile"in t&&!u||t.schema===!1);n.assign(h,(0,De._)`${v}${(0,vl.callValidateCode)(e,f,O,D)}`,t.modifying)}function w(v){var O;n.if((0,De.not)((O=t.valid)!==null&&O!==void 0?O:h),v)}}it.funcKeywordCode=El;function fa(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,De._)`${n.parentData}[${n.parentDataProperty}]`))}function wl(e,t){const{gen:r}=e;r.if((0,De._)`Array.isArray(${t})`,()=>{r.assign(Rt.default.vErrors,(0,De._)`${Rt.default.vErrors} === null ? ${t} : ${Rt.default.vErrors}.concat(${t})`).assign(Rt.default.errors,(0,De._)`${Rt.default.vErrors}.length`),(0,gl.extendErrors)(e)},()=>e.error())}function Sl({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Lo(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,De.stringify)(r)})}function bl(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}it.validSchemaType=bl;function Ol({schema:e,opts:t,self:r,errSchemaPath:n},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error("ajv implementation error");const i=s.dependencies;if(i!=null&&i.some(u=>!Object.prototype.hasOwnProperty.call(e,u)))throw new Error(`parent schema must have dependencies of ${a}: ${i.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[a])){const o=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(o);else throw new Error(o)}}it.validateKeywordUsage=Ol;var gt={};Object.defineProperty(gt,"__esModule",{value:!0});gt.extendSubschemaMode=gt.extendSubschemaData=gt.getSubschema=void 0;const at=Z,ko=z;function Rl(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:a,topSchemaRef:i}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const u=e.schema[t];return r===void 0?{schema:u,schemaPath:(0,at._)`${e.schemaPath}${(0,at.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:u[r],schemaPath:(0,at._)`${e.schemaPath}${(0,at.getProperty)(t)}${(0,at.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,ko.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||a===void 0||i===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:i,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}gt.getSubschema=Rl;function Pl(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:a,propertyName:i}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:u}=t;if(r!==void 0){const{errorPath:c,dataPathArr:f,opts:h}=t,P=u.let("data",(0,at._)`${t.data}${(0,at.getProperty)(r)}`,!0);o(P),e.errorPath=(0,at.str)`${c}${(0,ko.getErrorPath)(r,n,h.jsPropertySyntax)}`,e.parentDataProperty=(0,at._)`${r}`,e.dataPathArr=[...f,e.parentDataProperty]}if(s!==void 0){const c=s instanceof at.Name?s:u.let("data",s,!0);o(c),i!==void 0&&(e.propertyName=i)}a&&(e.dataTypes=a);function o(c){e.data=c,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,c]}}gt.extendSubschemaData=Pl;function Nl(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:a}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),a!==void 0&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=r}gt.extendSubschemaMode=Nl;var Ie={},Fo=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!==0;){var i=a[s];if(!e(t[i],r[i]))return!1}return!0}return t!==t&&r!==r},Mo={exports:{}},vt=Mo.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};zr(t,n,s,e,"",e)};vt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};vt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};vt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};vt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function zr(e,t,r,n,s,a,i,u,o,c){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,a,i,u,o,c);for(var f in n){var h=n[f];if(Array.isArray(h)){if(f in vt.arrayKeywords)for(var P=0;P<h.length;P++)zr(e,t,r,h[P],s+"/"+f+"/"+P,a,s,f,n,P)}else if(f in vt.propsKeywords){if(h&&typeof h=="object")for(var E in h)zr(e,t,r,h[E],s+"/"+f+"/"+Il(E),a,s,f,n,E)}else(f in vt.keywords||e.allKeys&&!(f in vt.skipKeywords))&&zr(e,t,r,h,s+"/"+f,a,s,f,n)}r(n,s,a,i,u,o,c)}}function Il(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Tl=Mo.exports;Object.defineProperty(Ie,"__esModule",{value:!0});Ie.getSchemaRefs=Ie.resolveUrl=Ie.normalizeId=Ie._getFullPath=Ie.getFullPath=Ie.inlineRef=void 0;const Al=z,Cl=Fo,Dl=Tl,jl=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Ll(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Nn(e):t?Uo(e)<=t:!1}Ie.inlineRef=Ll;const kl=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Nn(e){for(const t in e){if(kl.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Nn)||typeof r=="object"&&Nn(r))return!0}return!1}function Uo(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!jl.has(r)&&(typeof e[r]=="object"&&(0,Al.eachItem)(e[r],n=>t+=Uo(n)),t===1/0))return 1/0}return t}function Vo(e,t="",r){r!==!1&&(t=Ht(t));const n=e.parse(t);return zo(e,n)}Ie.getFullPath=Vo;function zo(e,t){return e.serialize(t).split("#")[0]+"#"}Ie._getFullPath=zo;const Fl=/#\/?$/;function Ht(e){return e?e.replace(Fl,""):""}Ie.normalizeId=Ht;function Ml(e,t,r){return r=Ht(r),e.resolve(t,r)}Ie.resolveUrl=Ml;const Ul=/^[a-z_][-a-z0-9._]*$/i;function Vl(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,s=Ht(e[r]||t),a={"":s},i=Vo(n,s,!1),u={},o=new Set;return Dl(e,{allKeys:!0},(h,P,E,$)=>{if($===void 0)return;const b=i+P;let w=a[$];typeof h[r]=="string"&&(w=v.call(this,h[r])),O.call(this,h.$anchor),O.call(this,h.$dynamicAnchor),a[P]=w;function v(D){const k=this.opts.uriResolver.resolve;if(D=Ht(w?k(w,D):D),o.has(D))throw f(D);o.add(D);let V=this.refs[D];return typeof V=="string"&&(V=this.refs[V]),typeof V=="object"?c(h,V.schema,D):D!==Ht(b)&&(D[0]==="#"?(c(h,u[D],D),u[D]=h):this.refs[D]=b),D}function O(D){if(typeof D=="string"){if(!Ul.test(D))throw new Error(`invalid anchor "${D}"`);v.call(this,`#${D}`)}}}),u;function c(h,P,E){if(P!==void 0&&!Cl(h,P))throw f(E)}function f(h){return new Error(`reference "${h}" resolves to more than one schema`)}}Ie.getSchemaRefs=Vl;Object.defineProperty(Be,"__esModule",{value:!0});Be.getData=Be.KeywordCxt=Be.validateFunctionCode=void 0;const qo=Bt,da=be,ns=ut,xr=be,zl=Zr,yr=it,dn=gt,K=Z,W=ct,ql=Ie,ft=z,ur=wr;function Gl(e){if(Ho(e)&&(xo(e),Ko(e))){xl(e);return}Go(e,()=>(0,qo.topBoolOrEmptySchema)(e))}Be.validateFunctionCode=Gl;function Go({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},a){s.code.es5?e.func(t,(0,K._)`${W.default.data}, ${W.default.valCxt}`,n.$async,()=>{e.code((0,K._)`"use strict"; ${ha(r,s)}`),Hl(e,s),e.code(a)}):e.func(t,(0,K._)`${W.default.data}, ${Kl(s)}`,n.$async,()=>e.code(ha(r,s)).code(a))}function Kl(e){return(0,K._)`{${W.default.instancePath}="", ${W.default.parentData}, ${W.default.parentDataProperty}, ${W.default.rootData}=${W.default.data}${e.dynamicRef?(0,K._)`, ${W.default.dynamicAnchors}={}`:K.nil}}={}`}function Hl(e,t){e.if(W.default.valCxt,()=>{e.var(W.default.instancePath,(0,K._)`${W.default.valCxt}.${W.default.instancePath}`),e.var(W.default.parentData,(0,K._)`${W.default.valCxt}.${W.default.parentData}`),e.var(W.default.parentDataProperty,(0,K._)`${W.default.valCxt}.${W.default.parentDataProperty}`),e.var(W.default.rootData,(0,K._)`${W.default.valCxt}.${W.default.rootData}`),t.dynamicRef&&e.var(W.default.dynamicAnchors,(0,K._)`${W.default.valCxt}.${W.default.dynamicAnchors}`)},()=>{e.var(W.default.instancePath,(0,K._)`""`),e.var(W.default.parentData,(0,K._)`undefined`),e.var(W.default.parentDataProperty,(0,K._)`undefined`),e.var(W.default.rootData,W.default.data),t.dynamicRef&&e.var(W.default.dynamicAnchors,(0,K._)`{}`)})}function xl(e){const{schema:t,opts:r,gen:n}=e;Go(e,()=>{r.$comment&&t.$comment&&Wo(e),Jl(e),n.let(W.default.vErrors,null),n.let(W.default.errors,0),r.unevaluated&&Xl(e),Xo(e),eu(e)})}function Xl(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,K._)`${r}.evaluated`),t.if((0,K._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,K._)`${e.evaluated}.props`,(0,K._)`undefined`)),t.if((0,K._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,K._)`${e.evaluated}.items`,(0,K._)`undefined`))}function ha(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,K._)`/*# sourceURL=${r} */`:K.nil}function Wl(e,t){if(Ho(e)&&(xo(e),Ko(e))){Bl(e,t);return}(0,qo.boolOrEmptySchema)(e,t)}function Ko({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function Ho(e){return typeof e.schema!="boolean"}function Bl(e,t){const{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&Wo(e),Ql(e),Zl(e);const a=n.const("_errs",W.default.errors);Xo(e,a),n.var(t,(0,K._)`${a} === ${W.default.errors}`)}function xo(e){(0,ft.checkUnknownRules)(e),Yl(e)}function Xo(e,t){if(e.opts.jtd)return pa(e,[],!1,t);const r=(0,da.getSchemaTypes)(e.schema),n=(0,da.coerceAndCheckDataType)(e,r);pa(e,r,!n,t)}function Yl(e){const{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,ft.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Jl(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,ft.checkStrictMode)(e,"default is ignored in the schema root")}function Ql(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,ql.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function Zl(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function Wo({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){const a=r.$comment;if(s.$comment===!0)e.code((0,K._)`${W.default.self}.logger.log(${a})`);else if(typeof s.$comment=="function"){const i=(0,K.str)`${n}/$comment`,u=e.scopeValue("root",{ref:t.root});e.code((0,K._)`${W.default.self}.opts.$comment(${a}, ${i}, ${u}.schema)`)}}function eu(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:a}=e;r.$async?t.if((0,K._)`${W.default.errors} === 0`,()=>t.return(W.default.data),()=>t.throw((0,K._)`new ${s}(${W.default.vErrors})`)):(t.assign((0,K._)`${n}.errors`,W.default.vErrors),a.unevaluated&&tu(e),t.return((0,K._)`${W.default.errors} === 0`))}function tu({gen:e,evaluated:t,props:r,items:n}){r instanceof K.Name&&e.assign((0,K._)`${t}.props`,r),n instanceof K.Name&&e.assign((0,K._)`${t}.items`,n)}function pa(e,t,r,n){const{gen:s,schema:a,data:i,allErrors:u,opts:o,self:c}=e,{RULES:f}=c;if(a.$ref&&(o.ignoreKeywordsWithRef||!(0,ft.schemaHasRulesButRef)(a,f))){s.block(()=>Jo(e,"$ref",f.all.$ref.definition));return}o.jtd||ru(e,t),s.block(()=>{for(const P of f.rules)h(P);h(f.post)});function h(P){(0,ns.shouldUseGroup)(a,P)&&(P.type?(s.if((0,xr.checkDataType)(P.type,i,o.strictNumbers)),ma(e,P),t.length===1&&t[0]===P.type&&r&&(s.else(),(0,xr.reportTypeError)(e)),s.endIf()):ma(e,P),u||s.if((0,K._)`${W.default.errors} === ${n||0}`))}}function ma(e,t){const{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,zl.assignDefaults)(e,t.type),r.block(()=>{for(const a of t.rules)(0,ns.shouldUseRule)(n,a)&&Jo(e,a.keyword,a.definition,t.type)})}function ru(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(nu(e,t),e.opts.allowUnionTypes||su(e,t),au(e,e.dataTypes))}function nu(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{Bo(e.dataTypes,r)||ss(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),iu(e,t)}}function su(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&ss(e,"use allowUnionTypes to allow union type keyword")}function au(e,t){const r=e.self.RULES.all;for(const n in r){const s=r[n];if(typeof s=="object"&&(0,ns.shouldUseRule)(e.schema,s)){const{type:a}=s.definition;a.length&&!a.some(i=>ou(t,i))&&ss(e,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function ou(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function Bo(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function iu(e,t){const r=[];for(const n of e.dataTypes)Bo(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function ss(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,ft.checkStrictMode)(e,t,e.opts.strictTypes)}class Yo{constructor(t,r,n){if((0,yr.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,ft.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",Qo(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,yr.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",W.default.errors))}result(t,r,n){this.failResult((0,K.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,K.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,K._)`${r} !== undefined && (${(0,K.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?ur.reportExtraError:ur.reportError)(this,this.def.error,r)}$dataError(){(0,ur.reportError)(this,this.def.$dataError||ur.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,ur.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=K.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=K.nil,r=K.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:a,def:i}=this;n.if((0,K.or)((0,K._)`${s} === undefined`,r)),t!==K.nil&&n.assign(t,!0),(a.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==K.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:s,it:a}=this;return(0,K.or)(i(),u());function i(){if(n.length){if(!(r instanceof K.Name))throw new Error("ajv implementation error");const o=Array.isArray(n)?n:[n];return(0,K._)`${(0,xr.checkDataTypes)(o,r,a.opts.strictNumbers,xr.DataType.Wrong)}`}return K.nil}function u(){if(s.validateSchema){const o=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,K._)`!${o}(${r})`}return K.nil}}subschema(t,r){const n=(0,dn.getSubschema)(this.it,t);(0,dn.extendSubschemaData)(n,this.it,t),(0,dn.extendSubschemaMode)(n,t);const s={...this.it,...n,items:void 0,props:void 0};return Wl(s,r),s}mergeEvaluated(t,r){const{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=ft.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=ft.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,K.Name)),!0}}Be.KeywordCxt=Yo;function Jo(e,t,r,n){const s=new Yo(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,yr.funcKeywordCode)(s,r):"macro"in r?(0,yr.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,yr.funcKeywordCode)(s,r)}const cu=/^\/(?:[^~]|~0|~1)*$/,lu=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Qo(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,a;if(e==="")return W.default.rootData;if(e[0]==="/"){if(!cu.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,a=W.default.rootData}else{const c=lu.exec(e);if(!c)throw new Error(`Invalid JSON-pointer: ${e}`);const f=+c[1];if(s=c[2],s==="#"){if(f>=t)throw new Error(o("property/index",f));return n[t-f]}if(f>t)throw new Error(o("data",f));if(a=r[t-f],!s)return a}let i=a;const u=s.split("/");for(const c of u)c&&(a=(0,K._)`${a}${(0,K.getProperty)((0,ft.unescapeJsonPointer)(c))}`,i=(0,K._)`${i} && ${a}`);return i;function o(c,f){return`Cannot access ${c} ${f} levels up, current level is ${t}`}}Be.getData=Qo;var Sr={};Object.defineProperty(Sr,"__esModule",{value:!0});class uu extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}Sr.default=uu;var Jt={};Object.defineProperty(Jt,"__esModule",{value:!0});const hn=Ie;class fu extends Error{constructor(t,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,hn.resolveUrl)(t,r,n),this.missingSchema=(0,hn.normalizeId)((0,hn.getFullPath)(t,this.missingRef))}}Jt.default=fu;var Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.resolveSchema=Ue.getCompilingSchema=Ue.resolveRef=Ue.compileSchema=Ue.SchemaEnv=void 0;const xe=Z,du=Sr,Ot=ct,We=Ie,ya=z,hu=Be;class en{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,We.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}Ue.SchemaEnv=en;function as(e){const t=Zo.call(this,e);if(t)return t;const r=(0,We.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:a}=this.opts,i=new xe.CodeGen(this.scope,{es5:n,lines:s,ownProperties:a});let u;e.$async&&(u=i.scopeValue("Error",{ref:du.default,code:(0,xe._)`require("ajv/dist/runtime/validation_error").default`}));const o=i.scopeName("validate");e.validateName=o;const c={gen:i,allErrors:this.opts.allErrors,data:Ot.default.data,parentData:Ot.default.parentData,parentDataProperty:Ot.default.parentDataProperty,dataNames:[Ot.default.data],dataPathArr:[xe.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,xe.stringify)(e.schema)}:{ref:e.schema}),validateName:o,ValidationError:u,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:xe.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,xe._)`""`,opts:this.opts,self:this};let f;try{this._compilations.add(e),(0,hu.validateFunctionCode)(c),i.optimize(this.opts.code.optimize);const h=i.toString();f=`${i.scopeRefs(Ot.default.scope)}return ${h}`,this.opts.code.process&&(f=this.opts.code.process(f,e));const E=new Function(`${Ot.default.self}`,`${Ot.default.scope}`,f)(this,this.scope.get());if(this.scope.value(o,{ref:E}),E.errors=null,E.schema=e.schema,E.schemaEnv=e,e.$async&&(E.$async=!0),this.opts.code.source===!0&&(E.source={validateName:o,validateCode:h,scopeValues:i._values}),this.opts.unevaluated){const{props:$,items:b}=c;E.evaluated={props:$ instanceof xe.Name?void 0:$,items:b instanceof xe.Name?void 0:b,dynamicProps:$ instanceof xe.Name,dynamicItems:b instanceof xe.Name},E.source&&(E.source.evaluated=(0,xe.stringify)(E.evaluated))}return e.validate=E,e}catch(h){throw delete e.validate,delete e.validateName,f&&this.logger.error("Error compiling schema, function code:",f),h}finally{this._compilations.delete(e)}}Ue.compileSchema=as;function pu(e,t,r){var n;r=(0,We.resolveUrl)(this.opts.uriResolver,t,r);const s=e.refs[r];if(s)return s;let a=$u.call(this,e,r);if(a===void 0){const i=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:u}=this.opts;i&&(a=new en({schema:i,schemaId:u,root:e,baseId:t}))}if(a!==void 0)return e.refs[r]=mu.call(this,a)}Ue.resolveRef=pu;function mu(e){return(0,We.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:as.call(this,e)}function Zo(e){for(const t of this._compilations)if(yu(t,e))return t}Ue.getCompilingSchema=Zo;function yu(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function $u(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||tn.call(this,e,t)}function tn(e,t){const r=this.opts.uriResolver.parse(t),n=(0,We._getFullPath)(this.opts.uriResolver,r);let s=(0,We.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return pn.call(this,r,e);const a=(0,We.normalizeId)(n),i=this.refs[a]||this.schemas[a];if(typeof i=="string"){const u=tn.call(this,e,i);return typeof(u==null?void 0:u.schema)!="object"?void 0:pn.call(this,r,u)}if(typeof(i==null?void 0:i.schema)=="object"){if(i.validate||as.call(this,i),a===(0,We.normalizeId)(t)){const{schema:u}=i,{schemaId:o}=this.opts,c=u[o];return c&&(s=(0,We.resolveUrl)(this.opts.uriResolver,s,c)),new en({schema:u,schemaId:o,root:e,baseId:s})}return pn.call(this,r,i)}}Ue.resolveSchema=tn;const vu=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function pn(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const u of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const o=r[(0,ya.unescapeFragment)(u)];if(o===void 0)return;r=o;const c=typeof r=="object"&&r[this.opts.schemaId];!vu.has(u)&&c&&(t=(0,We.resolveUrl)(this.opts.uriResolver,t,c))}let a;if(typeof r!="boolean"&&r.$ref&&!(0,ya.schemaHasRulesButRef)(r,this.RULES)){const u=(0,We.resolveUrl)(this.opts.uriResolver,t,r.$ref);a=tn.call(this,n,u)}const{schemaId:i}=this.opts;if(a=a||new en({schema:r,schemaId:i,root:n,baseId:t}),a.schema!==a.root.schema)return a}const gu="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",_u="Meta-schema for $data reference (JSON AnySchema extension proposal)",Eu="object",wu=["$data"],Su={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},bu=!1,Ou={$id:gu,description:_u,type:Eu,required:wu,properties:Su,additionalProperties:bu};var os={},In={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(hr,function(r){function n(){for(var y=arguments.length,d=Array(y),g=0;g<y;g++)d[g]=arguments[g];if(d.length>1){d[0]=d[0].slice(0,-1);for(var T=d.length-1,I=1;I<T;++I)d[I]=d[I].slice(1,-1);return d[T]=d[T].slice(1),d.join("")}else return d[0]}function s(y){return"(?:"+y+")"}function a(y){return y===void 0?"undefined":y===null?"null":Object.prototype.toString.call(y).split(" ").pop().split("]").shift().toLowerCase()}function i(y){return y.toUpperCase()}function u(y){return y!=null?y instanceof Array?y:typeof y.length!="number"||y.split||y.setInterval||y.call?[y]:Array.prototype.slice.call(y):[]}function o(y,d){var g=y;if(d)for(var T in d)g[T]=d[T];return g}function c(y){var d="[A-Za-z]",g="[0-9]",T=n(g,"[A-Fa-f]"),I=s(s("%[EFef]"+T+"%"+T+T+"%"+T+T)+"|"+s("%[89A-Fa-f]"+T+"%"+T+T)+"|"+s("%"+T+T)),H="[\\:\\/\\?\\#\\[\\]\\@]",X="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",ae=n(H,X),pe=y?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",_e=y?"[\\uE000-\\uF8FF]":"[]",ne=n(d,g,"[\\-\\.\\_\\~]",pe);s(d+n(d,g,"[\\+\\-\\.]")+"*"),s(s(I+"|"+n(ne,X,"[\\:]"))+"*");var de=s(s("25[0-5]")+"|"+s("2[0-4]"+g)+"|"+s("1"+g+g)+"|"+s("0?[1-9]"+g)+"|0?0?"+g),Ee=s(de+"\\."+de+"\\."+de+"\\."+de),Y=s(T+"{1,4}"),ye=s(s(Y+"\\:"+Y)+"|"+Ee),Se=s(s(Y+"\\:")+"{6}"+ye),$e=s("\\:\\:"+s(Y+"\\:")+"{5}"+ye),dt=s(s(Y)+"?\\:\\:"+s(Y+"\\:")+"{4}"+ye),tt=s(s(s(Y+"\\:")+"{0,1}"+Y)+"?\\:\\:"+s(Y+"\\:")+"{3}"+ye),rt=s(s(s(Y+"\\:")+"{0,2}"+Y)+"?\\:\\:"+s(Y+"\\:")+"{2}"+ye),Mt=s(s(s(Y+"\\:")+"{0,3}"+Y)+"?\\:\\:"+Y+"\\:"+ye),wt=s(s(s(Y+"\\:")+"{0,4}"+Y)+"?\\:\\:"+ye),Ke=s(s(s(Y+"\\:")+"{0,5}"+Y)+"?\\:\\:"+Y),nt=s(s(s(Y+"\\:")+"{0,6}"+Y)+"?\\:\\:"),St=s([Se,$e,dt,tt,rt,Mt,wt,Ke,nt].join("|")),lt=s(s(ne+"|"+I)+"+");s("[vV]"+T+"+\\."+n(ne,X,"[\\:]")+"+"),s(s(I+"|"+n(ne,X))+"*");var cr=s(I+"|"+n(ne,X,"[\\:\\@]"));return s(s(I+"|"+n(ne,X,"[\\@]"))+"+"),s(s(cr+"|"+n("[\\/\\?]",_e))+"*"),{NOT_SCHEME:new RegExp(n("[^]",d,g,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",ne,X),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",ne,X),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",ne,X),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",ne,X),"g"),NOT_QUERY:new RegExp(n("[^\\%]",ne,X,"[\\:\\@\\/\\?]",_e),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",ne,X,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",ne,X),"g"),UNRESERVED:new RegExp(ne,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",ne,ae),"g"),PCT_ENCODED:new RegExp(I,"g"),IPV4ADDRESS:new RegExp("^("+Ee+")$"),IPV6ADDRESS:new RegExp("^\\[?("+St+")"+s(s("\\%25|\\%(?!"+T+"{2})")+"("+lt+")")+"?\\]?$")}}var f=c(!1),h=c(!0),P=function(){function y(d,g){var T=[],I=!0,H=!1,X=void 0;try{for(var ae=d[Symbol.iterator](),pe;!(I=(pe=ae.next()).done)&&(T.push(pe.value),!(g&&T.length===g));I=!0);}catch(_e){H=!0,X=_e}finally{try{!I&&ae.return&&ae.return()}finally{if(H)throw X}}return T}return function(d,g){if(Array.isArray(d))return d;if(Symbol.iterator in Object(d))return y(d,g);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),E=function(y){if(Array.isArray(y)){for(var d=0,g=Array(y.length);d<y.length;d++)g[d]=y[d];return g}else return Array.from(y)},$=2147483647,b=36,w=1,v=26,O=38,D=700,k=72,V=128,te="-",oe=/^xn--/,Re=/[^\0-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,B={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},le=b-w,J=Math.floor,L=String.fromCharCode;function j(y){throw new RangeError(B[y])}function q(y,d){for(var g=[],T=y.length;T--;)g[T]=d(y[T]);return g}function G(y,d){var g=y.split("@"),T="";g.length>1&&(T=g[0]+"@",y=g[1]),y=y.replace(x,".");var I=y.split("."),H=q(I,d).join(".");return T+H}function M(y){for(var d=[],g=0,T=y.length;g<T;){var I=y.charCodeAt(g++);if(I>=55296&&I<=56319&&g<T){var H=y.charCodeAt(g++);(H&64512)==56320?d.push(((I&1023)<<10)+(H&1023)+65536):(d.push(I),g--)}else d.push(I)}return d}var R=function(d){return String.fromCodePoint.apply(String,E(d))},C=function(d){return d-48<10?d-22:d-65<26?d-65:d-97<26?d-97:b},_=function(d,g){return d+22+75*(d<26)-((g!=0)<<5)},m=function(d,g,T){var I=0;for(d=T?J(d/D):d>>1,d+=J(d/g);d>le*v>>1;I+=b)d=J(d/le);return J(I+(le+1)*d/(d+O))},N=function(d){var g=[],T=d.length,I=0,H=V,X=k,ae=d.lastIndexOf(te);ae<0&&(ae=0);for(var pe=0;pe<ae;++pe)d.charCodeAt(pe)>=128&&j("not-basic"),g.push(d.charCodeAt(pe));for(var _e=ae>0?ae+1:0;_e<T;){for(var ne=I,de=1,Ee=b;;Ee+=b){_e>=T&&j("invalid-input");var Y=C(d.charCodeAt(_e++));(Y>=b||Y>J(($-I)/de))&&j("overflow"),I+=Y*de;var ye=Ee<=X?w:Ee>=X+v?v:Ee-X;if(Y<ye)break;var Se=b-ye;de>J($/Se)&&j("overflow"),de*=Se}var $e=g.length+1;X=m(I-ne,$e,ne==0),J(I/$e)>$-H&&j("overflow"),H+=J(I/$e),I%=$e,g.splice(I++,0,H)}return String.fromCodePoint.apply(String,g)},S=function(d){var g=[];d=M(d);var T=d.length,I=V,H=0,X=k,ae=!0,pe=!1,_e=void 0;try{for(var ne=d[Symbol.iterator](),de;!(ae=(de=ne.next()).done);ae=!0){var Ee=de.value;Ee<128&&g.push(L(Ee))}}catch(lr){pe=!0,_e=lr}finally{try{!ae&&ne.return&&ne.return()}finally{if(pe)throw _e}}var Y=g.length,ye=Y;for(Y&&g.push(te);ye<T;){var Se=$,$e=!0,dt=!1,tt=void 0;try{for(var rt=d[Symbol.iterator](),Mt;!($e=(Mt=rt.next()).done);$e=!0){var wt=Mt.value;wt>=I&&wt<Se&&(Se=wt)}}catch(lr){dt=!0,tt=lr}finally{try{!$e&&rt.return&&rt.return()}finally{if(dt)throw tt}}var Ke=ye+1;Se-I>J(($-H)/Ke)&&j("overflow"),H+=(Se-I)*Ke,I=Se;var nt=!0,St=!1,lt=void 0;try{for(var cr=d[Symbol.iterator](),ta;!(nt=(ta=cr.next()).done);nt=!0){var ra=ta.value;if(ra<I&&++H>$&&j("overflow"),ra==I){for(var Pr=H,Nr=b;;Nr+=b){var Ir=Nr<=X?w:Nr>=X+v?v:Nr-X;if(Pr<Ir)break;var na=Pr-Ir,sa=b-Ir;g.push(L(_(Ir+na%sa,0))),Pr=J(na/sa)}g.push(L(_(Pr,0))),X=m(H,Ke,ye==Y),H=0,++ye}}}catch(lr){St=!0,lt=lr}finally{try{!nt&&cr.return&&cr.return()}finally{if(St)throw lt}}++H,++I}return g.join("")},l=function(d){return G(d,function(g){return oe.test(g)?N(g.slice(4).toLowerCase()):g})},p=function(d){return G(d,function(g){return Re.test(g)?"xn--"+S(g):g})},A={version:"2.1.0",ucs2:{decode:M,encode:R},decode:N,encode:S,toASCII:p,toUnicode:l},F={};function U(y){var d=y.charCodeAt(0),g=void 0;return d<16?g="%0"+d.toString(16).toUpperCase():d<128?g="%"+d.toString(16).toUpperCase():d<2048?g="%"+(d>>6|192).toString(16).toUpperCase()+"%"+(d&63|128).toString(16).toUpperCase():g="%"+(d>>12|224).toString(16).toUpperCase()+"%"+(d>>6&63|128).toString(16).toUpperCase()+"%"+(d&63|128).toString(16).toUpperCase(),g}function re(y){for(var d="",g=0,T=y.length;g<T;){var I=parseInt(y.substr(g+1,2),16);if(I<128)d+=String.fromCharCode(I),g+=3;else if(I>=194&&I<224){if(T-g>=6){var H=parseInt(y.substr(g+4,2),16);d+=String.fromCharCode((I&31)<<6|H&63)}else d+=y.substr(g,6);g+=6}else if(I>=224){if(T-g>=9){var X=parseInt(y.substr(g+4,2),16),ae=parseInt(y.substr(g+7,2),16);d+=String.fromCharCode((I&15)<<12|(X&63)<<6|ae&63)}else d+=y.substr(g,9);g+=9}else d+=y.substr(g,3),g+=3}return d}function se(y,d){function g(T){var I=re(T);return I.match(d.UNRESERVED)?I:T}return y.scheme&&(y.scheme=String(y.scheme).replace(d.PCT_ENCODED,g).toLowerCase().replace(d.NOT_SCHEME,"")),y.userinfo!==void 0&&(y.userinfo=String(y.userinfo).replace(d.PCT_ENCODED,g).replace(d.NOT_USERINFO,U).replace(d.PCT_ENCODED,i)),y.host!==void 0&&(y.host=String(y.host).replace(d.PCT_ENCODED,g).toLowerCase().replace(d.NOT_HOST,U).replace(d.PCT_ENCODED,i)),y.path!==void 0&&(y.path=String(y.path).replace(d.PCT_ENCODED,g).replace(y.scheme?d.NOT_PATH:d.NOT_PATH_NOSCHEME,U).replace(d.PCT_ENCODED,i)),y.query!==void 0&&(y.query=String(y.query).replace(d.PCT_ENCODED,g).replace(d.NOT_QUERY,U).replace(d.PCT_ENCODED,i)),y.fragment!==void 0&&(y.fragment=String(y.fragment).replace(d.PCT_ENCODED,g).replace(d.NOT_FRAGMENT,U).replace(d.PCT_ENCODED,i)),y}function ge(y){return y.replace(/^0*(.*)/,"$1")||"0"}function Qe(y,d){var g=y.match(d.IPV4ADDRESS)||[],T=P(g,2),I=T[1];return I?I.split(".").map(ge).join("."):y}function Ct(y,d){var g=y.match(d.IPV6ADDRESS)||[],T=P(g,3),I=T[1],H=T[2];if(I){for(var X=I.toLowerCase().split("::").reverse(),ae=P(X,2),pe=ae[0],_e=ae[1],ne=_e?_e.split(":").map(ge):[],de=pe.split(":").map(ge),Ee=d.IPV4ADDRESS.test(de[de.length-1]),Y=Ee?7:8,ye=de.length-Y,Se=Array(Y),$e=0;$e<Y;++$e)Se[$e]=ne[$e]||de[ye+$e]||"";Ee&&(Se[Y-1]=Qe(Se[Y-1],d));var dt=Se.reduce(function(Ke,nt,St){if(!nt||nt==="0"){var lt=Ke[Ke.length-1];lt&&lt.index+lt.length===St?lt.length++:Ke.push({index:St,length:1})}return Ke},[]),tt=dt.sort(function(Ke,nt){return nt.length-Ke.length})[0],rt=void 0;if(tt&&tt.length>1){var Mt=Se.slice(0,tt.index),wt=Se.slice(tt.index+tt.length);rt=Mt.join(":")+"::"+wt.join(":")}else rt=Se.join(":");return H&&(rt+="%"+H),rt}else return y}var tr=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,rr="".match(/(){0}/)[1]===void 0;function Ve(y){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g={},T=d.iri!==!1?h:f;d.reference==="suffix"&&(y=(d.scheme?d.scheme+":":"")+"//"+y);var I=y.match(tr);if(I){rr?(g.scheme=I[1],g.userinfo=I[3],g.host=I[4],g.port=parseInt(I[5],10),g.path=I[6]||"",g.query=I[7],g.fragment=I[8],isNaN(g.port)&&(g.port=I[5])):(g.scheme=I[1]||void 0,g.userinfo=y.indexOf("@")!==-1?I[3]:void 0,g.host=y.indexOf("//")!==-1?I[4]:void 0,g.port=parseInt(I[5],10),g.path=I[6]||"",g.query=y.indexOf("?")!==-1?I[7]:void 0,g.fragment=y.indexOf("#")!==-1?I[8]:void 0,isNaN(g.port)&&(g.port=y.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?I[4]:void 0)),g.host&&(g.host=Ct(Qe(g.host,T),T)),g.scheme===void 0&&g.userinfo===void 0&&g.host===void 0&&g.port===void 0&&!g.path&&g.query===void 0?g.reference="same-document":g.scheme===void 0?g.reference="relative":g.fragment===void 0?g.reference="absolute":g.reference="uri",d.reference&&d.reference!=="suffix"&&d.reference!==g.reference&&(g.error=g.error||"URI is not a "+d.reference+" reference.");var H=F[(d.scheme||g.scheme||"").toLowerCase()];if(!d.unicodeSupport&&(!H||!H.unicodeSupport)){if(g.host&&(d.domainHost||H&&H.domainHost))try{g.host=A.toASCII(g.host.replace(T.PCT_ENCODED,re).toLowerCase())}catch(X){g.error=g.error||"Host's domain name can not be converted to ASCII via punycode: "+X}se(g,f)}else se(g,T);H&&H.parse&&H.parse(g,d)}else g.error=g.error||"URI can not be parsed.";return g}function nr(y,d){var g=d.iri!==!1?h:f,T=[];return y.userinfo!==void 0&&(T.push(y.userinfo),T.push("@")),y.host!==void 0&&T.push(Ct(Qe(String(y.host),g),g).replace(g.IPV6ADDRESS,function(I,H,X){return"["+H+(X?"%25"+X:"")+"]"})),(typeof y.port=="number"||typeof y.port=="string")&&(T.push(":"),T.push(String(y.port))),T.length?T.join(""):void 0}var Dt=/^\.\.?\//,jt=/^\/\.(\/|$)/,Lt=/^\/\.\.(\/|$)/,sr=/^\/?(?:.|\n)*?(?=\/|$)/;function Ze(y){for(var d=[];y.length;)if(y.match(Dt))y=y.replace(Dt,"");else if(y.match(jt))y=y.replace(jt,"/");else if(y.match(Lt))y=y.replace(Lt,"/"),d.pop();else if(y==="."||y==="..")y="";else{var g=y.match(sr);if(g){var T=g[0];y=y.slice(T.length),d.push(T)}else throw new Error("Unexpected dot segment condition")}return d.join("")}function Le(y){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=d.iri?h:f,T=[],I=F[(d.scheme||y.scheme||"").toLowerCase()];if(I&&I.serialize&&I.serialize(y,d),y.host&&!g.IPV6ADDRESS.test(y.host)){if(d.domainHost||I&&I.domainHost)try{y.host=d.iri?A.toUnicode(y.host):A.toASCII(y.host.replace(g.PCT_ENCODED,re).toLowerCase())}catch(ae){y.error=y.error||"Host's domain name can not be converted to "+(d.iri?"Unicode":"ASCII")+" via punycode: "+ae}}se(y,g),d.reference!=="suffix"&&y.scheme&&(T.push(y.scheme),T.push(":"));var H=nr(y,d);if(H!==void 0&&(d.reference!=="suffix"&&T.push("//"),T.push(H),y.path&&y.path.charAt(0)!=="/"&&T.push("/")),y.path!==void 0){var X=y.path;!d.absolutePath&&(!I||!I.absolutePath)&&(X=Ze(X)),H===void 0&&(X=X.replace(/^\/\//,"/%2F")),T.push(X)}return y.query!==void 0&&(T.push("?"),T.push(y.query)),y.fragment!==void 0&&(T.push("#"),T.push(y.fragment)),T.join("")}function kt(y,d){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},T=arguments[3],I={};return T||(y=Ve(Le(y,g),g),d=Ve(Le(d,g),g)),g=g||{},!g.tolerant&&d.scheme?(I.scheme=d.scheme,I.userinfo=d.userinfo,I.host=d.host,I.port=d.port,I.path=Ze(d.path||""),I.query=d.query):(d.userinfo!==void 0||d.host!==void 0||d.port!==void 0?(I.userinfo=d.userinfo,I.host=d.host,I.port=d.port,I.path=Ze(d.path||""),I.query=d.query):(d.path?(d.path.charAt(0)==="/"?I.path=Ze(d.path):((y.userinfo!==void 0||y.host!==void 0||y.port!==void 0)&&!y.path?I.path="/"+d.path:y.path?I.path=y.path.slice(0,y.path.lastIndexOf("/")+1)+d.path:I.path=d.path,I.path=Ze(I.path)),I.query=d.query):(I.path=y.path,d.query!==void 0?I.query=d.query:I.query=y.query),I.userinfo=y.userinfo,I.host=y.host,I.port=y.port),I.scheme=y.scheme),I.fragment=d.fragment,I}function ar(y,d,g){var T=o({scheme:"null"},g);return Le(kt(Ve(y,T),Ve(d,T),T,!0),T)}function _t(y,d){return typeof y=="string"?y=Le(Ve(y,d),d):a(y)==="object"&&(y=Ve(Le(y,d),d)),y}function or(y,d,g){return typeof y=="string"?y=Le(Ve(y,g),g):a(y)==="object"&&(y=Le(y,g)),typeof d=="string"?d=Le(Ve(d,g),g):a(d)==="object"&&(d=Le(d,g)),y===d}function Rr(y,d){return y&&y.toString().replace(!d||!d.iri?f.ESCAPE:h.ESCAPE,U)}function Ge(y,d){return y&&y.toString().replace(!d||!d.iri?f.PCT_ENCODED:h.PCT_ENCODED,re)}var Et={scheme:"http",domainHost:!0,parse:function(d,g){return d.host||(d.error=d.error||"HTTP URIs must have a host."),d},serialize:function(d,g){var T=String(d.scheme).toLowerCase()==="https";return(d.port===(T?443:80)||d.port==="")&&(d.port=void 0),d.path||(d.path="/"),d}},Xs={scheme:"https",domainHost:Et.domainHost,parse:Et.parse,serialize:Et.serialize};function Ws(y){return typeof y.secure=="boolean"?y.secure:String(y.scheme).toLowerCase()==="wss"}var ir={scheme:"ws",domainHost:!0,parse:function(d,g){var T=d;return T.secure=Ws(T),T.resourceName=(T.path||"/")+(T.query?"?"+T.query:""),T.path=void 0,T.query=void 0,T},serialize:function(d,g){if((d.port===(Ws(d)?443:80)||d.port==="")&&(d.port=void 0),typeof d.secure=="boolean"&&(d.scheme=d.secure?"wss":"ws",d.secure=void 0),d.resourceName){var T=d.resourceName.split("?"),I=P(T,2),H=I[0],X=I[1];d.path=H&&H!=="/"?H:void 0,d.query=X,d.resourceName=void 0}return d.fragment=void 0,d}},Bs={scheme:"wss",domainHost:ir.domainHost,parse:ir.parse,serialize:ir.serialize},Si={},Ys="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",et="[0-9A-Fa-f]",bi=s(s("%[EFef]"+et+"%"+et+et+"%"+et+et)+"|"+s("%[89A-Fa-f]"+et+"%"+et+et)+"|"+s("%"+et+et)),Oi="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Ri="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Pi=n(Ri,'[\\"\\\\]'),Ni="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Ii=new RegExp(Ys,"g"),Ft=new RegExp(bi,"g"),Ti=new RegExp(n("[^]",Oi,"[\\.]",'[\\"]',Pi),"g"),Js=new RegExp(n("[^]",Ys,Ni),"g"),Ai=Js;function fn(y){var d=re(y);return d.match(Ii)?d:y}var Qs={scheme:"mailto",parse:function(d,g){var T=d,I=T.to=T.path?T.path.split(","):[];if(T.path=void 0,T.query){for(var H=!1,X={},ae=T.query.split("&"),pe=0,_e=ae.length;pe<_e;++pe){var ne=ae[pe].split("=");switch(ne[0]){case"to":for(var de=ne[1].split(","),Ee=0,Y=de.length;Ee<Y;++Ee)I.push(de[Ee]);break;case"subject":T.subject=Ge(ne[1],g);break;case"body":T.body=Ge(ne[1],g);break;default:H=!0,X[Ge(ne[0],g)]=Ge(ne[1],g);break}}H&&(T.headers=X)}T.query=void 0;for(var ye=0,Se=I.length;ye<Se;++ye){var $e=I[ye].split("@");if($e[0]=Ge($e[0]),g.unicodeSupport)$e[1]=Ge($e[1],g).toLowerCase();else try{$e[1]=A.toASCII(Ge($e[1],g).toLowerCase())}catch(dt){T.error=T.error||"Email address's domain name can not be converted to ASCII via punycode: "+dt}I[ye]=$e.join("@")}return T},serialize:function(d,g){var T=d,I=u(d.to);if(I){for(var H=0,X=I.length;H<X;++H){var ae=String(I[H]),pe=ae.lastIndexOf("@"),_e=ae.slice(0,pe).replace(Ft,fn).replace(Ft,i).replace(Ti,U),ne=ae.slice(pe+1);try{ne=g.iri?A.toUnicode(ne):A.toASCII(Ge(ne,g).toLowerCase())}catch(ye){T.error=T.error||"Email address's domain name can not be converted to "+(g.iri?"Unicode":"ASCII")+" via punycode: "+ye}I[H]=_e+"@"+ne}T.path=I.join(",")}var de=d.headers=d.headers||{};d.subject&&(de.subject=d.subject),d.body&&(de.body=d.body);var Ee=[];for(var Y in de)de[Y]!==Si[Y]&&Ee.push(Y.replace(Ft,fn).replace(Ft,i).replace(Js,U)+"="+de[Y].replace(Ft,fn).replace(Ft,i).replace(Ai,U));return Ee.length&&(T.query=Ee.join("&")),T}},Ci=/^([^\:]+)\:(.*)/,Zs={scheme:"urn",parse:function(d,g){var T=d.path&&d.path.match(Ci),I=d;if(T){var H=g.scheme||I.scheme||"urn",X=T[1].toLowerCase(),ae=T[2],pe=H+":"+(g.nid||X),_e=F[pe];I.nid=X,I.nss=ae,I.path=void 0,_e&&(I=_e.parse(I,g))}else I.error=I.error||"URN can not be parsed.";return I},serialize:function(d,g){var T=g.scheme||d.scheme||"urn",I=d.nid,H=T+":"+(g.nid||I),X=F[H];X&&(d=X.serialize(d,g));var ae=d,pe=d.nss;return ae.path=(I||g.nid)+":"+pe,ae}},Di=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ea={scheme:"urn:uuid",parse:function(d,g){var T=d;return T.uuid=T.nss,T.nss=void 0,!g.tolerant&&(!T.uuid||!T.uuid.match(Di))&&(T.error=T.error||"UUID is not valid."),T},serialize:function(d,g){var T=d;return T.nss=(d.uuid||"").toLowerCase(),T}};F[Et.scheme]=Et,F[Xs.scheme]=Xs,F[ir.scheme]=ir,F[Bs.scheme]=Bs,F[Qs.scheme]=Qs,F[Zs.scheme]=Zs,F[ea.scheme]=ea,r.SCHEMES=F,r.pctEncChar=U,r.pctDecChars=re,r.parse=Ve,r.removeDotSegments=Ze,r.serialize=Le,r.resolveComponents=kt,r.resolve=ar,r.normalize=_t,r.equal=or,r.escapeComponent=Rr,r.unescapeComponent=Ge,Object.defineProperty(r,"__esModule",{value:!0})})})(In,In.exports);var Ru=In.exports;Object.defineProperty(os,"__esModule",{value:!0});const ei=Ru;ei.code='require("ajv/dist/runtime/uri").default';os.default=ei;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Be;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=Z;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Sr,s=Jt,a=It,i=Ue,u=Z,o=Ie,c=be,f=z,h=Ou,P=os,E=(_,m)=>new RegExp(_,m);E.code="new RegExp";const $=["removeAdditional","useDefaults","coerceTypes"],b=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),w={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},v={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},O=200;function D(_){var m,N,S,l,p,A,F,U,re,se,ge,Qe,Ct,tr,rr,Ve,nr,Dt,jt,Lt,sr,Ze,Le,kt,ar;const _t=_.strict,or=(m=_.code)===null||m===void 0?void 0:m.optimize,Rr=or===!0||or===void 0?1:or||0,Ge=(S=(N=_.code)===null||N===void 0?void 0:N.regExp)!==null&&S!==void 0?S:E,Et=(l=_.uriResolver)!==null&&l!==void 0?l:P.default;return{strictSchema:(A=(p=_.strictSchema)!==null&&p!==void 0?p:_t)!==null&&A!==void 0?A:!0,strictNumbers:(U=(F=_.strictNumbers)!==null&&F!==void 0?F:_t)!==null&&U!==void 0?U:!0,strictTypes:(se=(re=_.strictTypes)!==null&&re!==void 0?re:_t)!==null&&se!==void 0?se:"log",strictTuples:(Qe=(ge=_.strictTuples)!==null&&ge!==void 0?ge:_t)!==null&&Qe!==void 0?Qe:"log",strictRequired:(tr=(Ct=_.strictRequired)!==null&&Ct!==void 0?Ct:_t)!==null&&tr!==void 0?tr:!1,code:_.code?{..._.code,optimize:Rr,regExp:Ge}:{optimize:Rr,regExp:Ge},loopRequired:(rr=_.loopRequired)!==null&&rr!==void 0?rr:O,loopEnum:(Ve=_.loopEnum)!==null&&Ve!==void 0?Ve:O,meta:(nr=_.meta)!==null&&nr!==void 0?nr:!0,messages:(Dt=_.messages)!==null&&Dt!==void 0?Dt:!0,inlineRefs:(jt=_.inlineRefs)!==null&&jt!==void 0?jt:!0,schemaId:(Lt=_.schemaId)!==null&&Lt!==void 0?Lt:"$id",addUsedSchema:(sr=_.addUsedSchema)!==null&&sr!==void 0?sr:!0,validateSchema:(Ze=_.validateSchema)!==null&&Ze!==void 0?Ze:!0,validateFormats:(Le=_.validateFormats)!==null&&Le!==void 0?Le:!0,unicodeRegExp:(kt=_.unicodeRegExp)!==null&&kt!==void 0?kt:!0,int32range:(ar=_.int32range)!==null&&ar!==void 0?ar:!0,uriResolver:Et}}class k{constructor(m={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,m=this.opts={...m,...D(m)};const{es5:N,lines:S}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:b,es5:N,lines:S}),this.logger=J(m.logger);const l=m.validateFormats;m.validateFormats=!1,this.RULES=(0,a.getRules)(),V.call(this,w,m,"NOT SUPPORTED"),V.call(this,v,m,"DEPRECATED","warn"),this._metaOpts=B.call(this),m.formats&&Re.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),m.keywords&&x.call(this,m.keywords),typeof m.meta=="object"&&this.addMetaSchema(m.meta),oe.call(this),m.validateFormats=l}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:m,meta:N,schemaId:S}=this.opts;let l=h;S==="id"&&(l={...h},l.id=l.$id,delete l.$id),N&&m&&this.addMetaSchema(l,l[S],!1)}defaultMeta(){const{meta:m,schemaId:N}=this.opts;return this.opts.defaultMeta=typeof m=="object"?m[N]||m:void 0}validate(m,N){let S;if(typeof m=="string"){if(S=this.getSchema(m),!S)throw new Error(`no schema with key or ref "${m}"`)}else S=this.compile(m);const l=S(N);return"$async"in S||(this.errors=S.errors),l}compile(m,N){const S=this._addSchema(m,N);return S.validate||this._compileSchemaEnv(S)}compileAsync(m,N){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:S}=this.opts;return l.call(this,m,N);async function l(se,ge){await p.call(this,se.$schema);const Qe=this._addSchema(se,ge);return Qe.validate||A.call(this,Qe)}async function p(se){se&&!this.getSchema(se)&&await l.call(this,{$ref:se},!0)}async function A(se){try{return this._compileSchemaEnv(se)}catch(ge){if(!(ge instanceof s.default))throw ge;return F.call(this,ge),await U.call(this,ge.missingSchema),A.call(this,se)}}function F({missingSchema:se,missingRef:ge}){if(this.refs[se])throw new Error(`AnySchema ${se} is loaded but ${ge} cannot be resolved`)}async function U(se){const ge=await re.call(this,se);this.refs[se]||await p.call(this,ge.$schema),this.refs[se]||this.addSchema(ge,se,N)}async function re(se){const ge=this._loading[se];if(ge)return ge;try{return await(this._loading[se]=S(se))}finally{delete this._loading[se]}}}addSchema(m,N,S,l=this.opts.validateSchema){if(Array.isArray(m)){for(const A of m)this.addSchema(A,void 0,S,l);return this}let p;if(typeof m=="object"){const{schemaId:A}=this.opts;if(p=m[A],p!==void 0&&typeof p!="string")throw new Error(`schema ${A} must be string`)}return N=(0,o.normalizeId)(N||p),this._checkUnique(N),this.schemas[N]=this._addSchema(m,S,N,l,!0),this}addMetaSchema(m,N,S=this.opts.validateSchema){return this.addSchema(m,N,!0,S),this}validateSchema(m,N){if(typeof m=="boolean")return!0;let S;if(S=m.$schema,S!==void 0&&typeof S!="string")throw new Error("$schema must be a string");if(S=S||this.opts.defaultMeta||this.defaultMeta(),!S)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const l=this.validate(S,m);if(!l&&N){const p="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(p);else throw new Error(p)}return l}getSchema(m){let N;for(;typeof(N=te.call(this,m))=="string";)m=N;if(N===void 0){const{schemaId:S}=this.opts,l=new i.SchemaEnv({schema:{},schemaId:S});if(N=i.resolveSchema.call(this,l,m),!N)return;this.refs[m]=N}return N.validate||this._compileSchemaEnv(N)}removeSchema(m){if(m instanceof RegExp)return this._removeAllSchemas(this.schemas,m),this._removeAllSchemas(this.refs,m),this;switch(typeof m){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const N=te.call(this,m);return typeof N=="object"&&this._cache.delete(N.schema),delete this.schemas[m],delete this.refs[m],this}case"object":{const N=m;this._cache.delete(N);let S=m[this.opts.schemaId];return S&&(S=(0,o.normalizeId)(S),delete this.schemas[S],delete this.refs[S]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(m){for(const N of m)this.addKeyword(N);return this}addKeyword(m,N){let S;if(typeof m=="string")S=m,typeof N=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),N.keyword=S);else if(typeof m=="object"&&N===void 0){if(N=m,S=N.keyword,Array.isArray(S)&&!S.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(j.call(this,S,N),!N)return(0,f.eachItem)(S,p=>q.call(this,p)),this;M.call(this,N);const l={...N,type:(0,c.getJSONTypes)(N.type),schemaType:(0,c.getJSONTypes)(N.schemaType)};return(0,f.eachItem)(S,l.type.length===0?p=>q.call(this,p,l):p=>l.type.forEach(A=>q.call(this,p,l,A))),this}getKeyword(m){const N=this.RULES.all[m];return typeof N=="object"?N.definition:!!N}removeKeyword(m){const{RULES:N}=this;delete N.keywords[m],delete N.all[m];for(const S of N.rules){const l=S.rules.findIndex(p=>p.keyword===m);l>=0&&S.rules.splice(l,1)}return this}addFormat(m,N){return typeof N=="string"&&(N=new RegExp(N)),this.formats[m]=N,this}errorsText(m=this.errors,{separator:N=", ",dataVar:S="data"}={}){return!m||m.length===0?"No errors":m.map(l=>`${S}${l.instancePath} ${l.message}`).reduce((l,p)=>l+N+p)}$dataMetaSchema(m,N){const S=this.RULES.all;m=JSON.parse(JSON.stringify(m));for(const l of N){const p=l.split("/").slice(1);let A=m;for(const F of p)A=A[F];for(const F in S){const U=S[F];if(typeof U!="object")continue;const{$data:re}=U.definition,se=A[F];re&&se&&(A[F]=C(se))}}return m}_removeAllSchemas(m,N){for(const S in m){const l=m[S];(!N||N.test(S))&&(typeof l=="string"?delete m[S]:l&&!l.meta&&(this._cache.delete(l.schema),delete m[S]))}}_addSchema(m,N,S,l=this.opts.validateSchema,p=this.opts.addUsedSchema){let A;const{schemaId:F}=this.opts;if(typeof m=="object")A=m[F];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof m!="boolean")throw new Error("schema must be object or boolean")}let U=this._cache.get(m);if(U!==void 0)return U;S=(0,o.normalizeId)(A||S);const re=o.getSchemaRefs.call(this,m,S);return U=new i.SchemaEnv({schema:m,schemaId:F,meta:N,baseId:S,localRefs:re}),this._cache.set(U.schema,U),p&&!S.startsWith("#")&&(S&&this._checkUnique(S),this.refs[S]=U),l&&this.validateSchema(m,!0),U}_checkUnique(m){if(this.schemas[m]||this.refs[m])throw new Error(`schema with key or id "${m}" already exists`)}_compileSchemaEnv(m){if(m.meta?this._compileMetaSchema(m):i.compileSchema.call(this,m),!m.validate)throw new Error("ajv implementation error");return m.validate}_compileMetaSchema(m){const N=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,m)}finally{this.opts=N}}}k.ValidationError=n.default,k.MissingRefError=s.default,e.default=k;function V(_,m,N,S="error"){for(const l in _){const p=l;p in m&&this.logger[S](`${N}: option ${l}. ${_[p]}`)}}function te(_){return _=(0,o.normalizeId)(_),this.schemas[_]||this.refs[_]}function oe(){const _=this.opts.schemas;if(_)if(Array.isArray(_))this.addSchema(_);else for(const m in _)this.addSchema(_[m],m)}function Re(){for(const _ in this.opts.formats){const m=this.opts.formats[_];m&&this.addFormat(_,m)}}function x(_){if(Array.isArray(_)){this.addVocabulary(_);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const m in _){const N=_[m];N.keyword||(N.keyword=m),this.addKeyword(N)}}function B(){const _={...this.opts};for(const m of $)delete _[m];return _}const le={log(){},warn(){},error(){}};function J(_){if(_===!1)return le;if(_===void 0)return console;if(_.log&&_.warn&&_.error)return _;throw new Error("logger must implement log, warn and error methods")}const L=/^[a-z_$][a-z0-9_$:-]*$/i;function j(_,m){const{RULES:N}=this;if((0,f.eachItem)(_,S=>{if(N.keywords[S])throw new Error(`Keyword ${S} is already defined`);if(!L.test(S))throw new Error(`Keyword ${S} has invalid name`)}),!!m&&m.$data&&!("code"in m||"validate"in m))throw new Error('$data keyword must have "code" or "validate" function')}function q(_,m,N){var S;const l=m==null?void 0:m.post;if(N&&l)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:p}=this;let A=l?p.post:p.rules.find(({type:U})=>U===N);if(A||(A={type:N,rules:[]},p.rules.push(A)),p.keywords[_]=!0,!m)return;const F={keyword:_,definition:{...m,type:(0,c.getJSONTypes)(m.type),schemaType:(0,c.getJSONTypes)(m.schemaType)}};m.before?G.call(this,A,F,m.before):A.rules.push(F),p.all[_]=F,(S=m.implements)===null||S===void 0||S.forEach(U=>this.addKeyword(U))}function G(_,m,N){const S=_.rules.findIndex(l=>l.keyword===N);S>=0?_.rules.splice(S,0,m):(_.rules.push(m),this.logger.warn(`rule ${N} is not defined`))}function M(_){let{metaSchema:m}=_;m!==void 0&&(_.$data&&this.opts.$data&&(m=C(m)),_.validateSchema=this.compile(m,!0))}const R={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function C(_){return{anyOf:[_,R]}}})(Eo);var is={},cs={},ls={};Object.defineProperty(ls,"__esModule",{value:!0});const Pu={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};ls.default=Pu;var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.callRef=Tt.getValidate=void 0;const Nu=Jt,$a=ee,Fe=Z,Vt=ct,va=Ue,Cr=z,Iu={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:a,validateName:i,opts:u,self:o}=n,{root:c}=a;if((r==="#"||r==="#/")&&s===c.baseId)return h();const f=va.resolveRef.call(o,c,s,r);if(f===void 0)throw new Nu.default(n.opts.uriResolver,s,r);if(f instanceof va.SchemaEnv)return P(f);return E(f);function h(){if(a===c)return qr(e,i,a,a.$async);const $=t.scopeValue("root",{ref:c});return qr(e,(0,Fe._)`${$}.validate`,c,c.$async)}function P($){const b=ti(e,$);qr(e,b,$,$.$async)}function E($){const b=t.scopeValue("schema",u.code.source===!0?{ref:$,code:(0,Fe.stringify)($)}:{ref:$}),w=t.name("valid"),v=e.subschema({schema:$,dataTypes:[],schemaPath:Fe.nil,topSchemaRef:b,errSchemaPath:r},w);e.mergeEvaluated(v),e.ok(w)}}};function ti(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Fe._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Tt.getValidate=ti;function qr(e,t,r,n){const{gen:s,it:a}=e,{allErrors:i,schemaEnv:u,opts:o}=a,c=o.passContext?Vt.default.this:Fe.nil;n?f():h();function f(){if(!u.$async)throw new Error("async schema referenced by sync schema");const $=s.let("valid");s.try(()=>{s.code((0,Fe._)`await ${(0,$a.callValidateCode)(e,t,c)}`),E(t),i||s.assign($,!0)},b=>{s.if((0,Fe._)`!(${b} instanceof ${a.ValidationError})`,()=>s.throw(b)),P(b),i||s.assign($,!1)}),e.ok($)}function h(){e.result((0,$a.callValidateCode)(e,t,c),()=>E(t),()=>P(t))}function P($){const b=(0,Fe._)`${$}.errors`;s.assign(Vt.default.vErrors,(0,Fe._)`${Vt.default.vErrors} === null ? ${b} : ${Vt.default.vErrors}.concat(${b})`),s.assign(Vt.default.errors,(0,Fe._)`${Vt.default.vErrors}.length`)}function E($){var b;if(!a.opts.unevaluated)return;const w=(b=r==null?void 0:r.validate)===null||b===void 0?void 0:b.evaluated;if(a.props!==!0)if(w&&!w.dynamicProps)w.props!==void 0&&(a.props=Cr.mergeEvaluated.props(s,w.props,a.props));else{const v=s.var("props",(0,Fe._)`${$}.evaluated.props`);a.props=Cr.mergeEvaluated.props(s,v,a.props,Fe.Name)}if(a.items!==!0)if(w&&!w.dynamicItems)w.items!==void 0&&(a.items=Cr.mergeEvaluated.items(s,w.items,a.items));else{const v=s.var("items",(0,Fe._)`${$}.evaluated.items`);a.items=Cr.mergeEvaluated.items(s,v,a.items,Fe.Name)}}}Tt.callRef=qr;Tt.default=Iu;Object.defineProperty(cs,"__esModule",{value:!0});const Tu=ls,Au=Tt,Cu=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Tu.default,Au.default];cs.default=Cu;var us={},fs={};Object.defineProperty(fs,"__esModule",{value:!0});const Xr=Z,pt=Xr.operators,Wr={maximum:{okStr:"<=",ok:pt.LTE,fail:pt.GT},minimum:{okStr:">=",ok:pt.GTE,fail:pt.LT},exclusiveMaximum:{okStr:"<",ok:pt.LT,fail:pt.GTE},exclusiveMinimum:{okStr:">",ok:pt.GT,fail:pt.LTE}},Du={message:({keyword:e,schemaCode:t})=>(0,Xr.str)`must be ${Wr[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Xr._)`{comparison: ${Wr[e].okStr}, limit: ${t}}`},ju={keyword:Object.keys(Wr),type:"number",schemaType:"number",$data:!0,error:Du,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Xr._)`${r} ${Wr[t].fail} ${n} || isNaN(${r})`)}};fs.default=ju;var ds={};Object.defineProperty(ds,"__esModule",{value:!0});const $r=Z,Lu={message:({schemaCode:e})=>(0,$r.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,$r._)`{multipleOf: ${e}}`},ku={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Lu,code(e){const{gen:t,data:r,schemaCode:n,it:s}=e,a=s.opts.multipleOfPrecision,i=t.let("res"),u=a?(0,$r._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${a}`:(0,$r._)`${i} !== parseInt(${i})`;e.fail$data((0,$r._)`(${n} === 0 || (${i} = ${r}/${n}, ${u}))`)}};ds.default=ku;var hs={},ps={};Object.defineProperty(ps,"__esModule",{value:!0});function ri(e){const t=e.length;let r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}ps.default=ri;ri.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(hs,"__esModule",{value:!0});const Pt=Z,Fu=z,Mu=ps,Uu={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Pt.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Pt._)`{limit: ${e}}`},Vu={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Uu,code(e){const{keyword:t,data:r,schemaCode:n,it:s}=e,a=t==="maxLength"?Pt.operators.GT:Pt.operators.LT,i=s.opts.unicode===!1?(0,Pt._)`${r}.length`:(0,Pt._)`${(0,Fu.useFunc)(e.gen,Mu.default)}(${r})`;e.fail$data((0,Pt._)`${i} ${a} ${n}`)}};hs.default=Vu;var ms={};Object.defineProperty(ms,"__esModule",{value:!0});const zu=ee,Br=Z,qu={message:({schemaCode:e})=>(0,Br.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Br._)`{pattern: ${e}}`},Gu={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:qu,code(e){const{data:t,$data:r,schema:n,schemaCode:s,it:a}=e,i=a.opts.unicodeRegExp?"u":"",u=r?(0,Br._)`(new RegExp(${s}, ${i}))`:(0,zu.usePattern)(e,n);e.fail$data((0,Br._)`!${u}.test(${t})`)}};ms.default=Gu;var ys={};Object.defineProperty(ys,"__esModule",{value:!0});const vr=Z,Ku={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,vr.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,vr._)`{limit: ${e}}`},Hu={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Ku,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?vr.operators.GT:vr.operators.LT;e.fail$data((0,vr._)`Object.keys(${r}).length ${s} ${n}`)}};ys.default=Hu;var $s={};Object.defineProperty($s,"__esModule",{value:!0});const fr=ee,gr=Z,xu=z,Xu={message:({params:{missingProperty:e}})=>(0,gr.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,gr._)`{missingProperty: ${e}}`},Wu={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Xu,code(e){const{gen:t,schema:r,schemaCode:n,data:s,$data:a,it:i}=e,{opts:u}=i;if(!a&&r.length===0)return;const o=r.length>=u.loopRequired;if(i.allErrors?c():f(),u.strictRequired){const E=e.parentSchema.properties,{definedProperties:$}=e.it;for(const b of r)if((E==null?void 0:E[b])===void 0&&!$.has(b)){const w=i.schemaEnv.baseId+i.errSchemaPath,v=`required property "${b}" is not defined at "${w}" (strictRequired)`;(0,xu.checkStrictMode)(i,v,i.opts.strictRequired)}}function c(){if(o||a)e.block$data(gr.nil,h);else for(const E of r)(0,fr.checkReportMissingProp)(e,E)}function f(){const E=t.let("missing");if(o||a){const $=t.let("valid",!0);e.block$data($,()=>P(E,$)),e.ok($)}else t.if((0,fr.checkMissingProp)(e,r,E)),(0,fr.reportMissingProp)(e,E),t.else()}function h(){t.forOf("prop",n,E=>{e.setParams({missingProperty:E}),t.if((0,fr.noPropertyInData)(t,s,E,u.ownProperties),()=>e.error())})}function P(E,$){e.setParams({missingProperty:E}),t.forOf(E,n,()=>{t.assign($,(0,fr.propertyInData)(t,s,E,u.ownProperties)),t.if((0,gr.not)($),()=>{e.error(),t.break()})},gr.nil)}}};$s.default=Wu;var vs={};Object.defineProperty(vs,"__esModule",{value:!0});const _r=Z,Bu={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,_r.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,_r._)`{limit: ${e}}`},Yu={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Bu,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?_r.operators.GT:_r.operators.LT;e.fail$data((0,_r._)`${r}.length ${s} ${n}`)}};vs.default=Yu;var gs={},br={};Object.defineProperty(br,"__esModule",{value:!0});const ni=Fo;ni.code='require("ajv/dist/runtime/equal").default';br.default=ni;Object.defineProperty(gs,"__esModule",{value:!0});const mn=be,Pe=Z,Ju=z,Qu=br,Zu={message:({params:{i:e,j:t}})=>(0,Pe.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Pe._)`{i: ${e}, j: ${t}}`},ef={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Zu,code(e){const{gen:t,data:r,$data:n,schema:s,parentSchema:a,schemaCode:i,it:u}=e;if(!n&&!s)return;const o=t.let("valid"),c=a.items?(0,mn.getSchemaTypes)(a.items):[];e.block$data(o,f,(0,Pe._)`${i} === false`),e.ok(o);function f(){const $=t.let("i",(0,Pe._)`${r}.length`),b=t.let("j");e.setParams({i:$,j:b}),t.assign(o,!0),t.if((0,Pe._)`${$} > 1`,()=>(h()?P:E)($,b))}function h(){return c.length>0&&!c.some($=>$==="object"||$==="array")}function P($,b){const w=t.name("item"),v=(0,mn.checkDataTypes)(c,w,u.opts.strictNumbers,mn.DataType.Wrong),O=t.const("indices",(0,Pe._)`{}`);t.for((0,Pe._)`;${$}--;`,()=>{t.let(w,(0,Pe._)`${r}[${$}]`),t.if(v,(0,Pe._)`continue`),c.length>1&&t.if((0,Pe._)`typeof ${w} == "string"`,(0,Pe._)`${w} += "_"`),t.if((0,Pe._)`typeof ${O}[${w}] == "number"`,()=>{t.assign(b,(0,Pe._)`${O}[${w}]`),e.error(),t.assign(o,!1).break()}).code((0,Pe._)`${O}[${w}] = ${$}`)})}function E($,b){const w=(0,Ju.useFunc)(t,Qu.default),v=t.name("outer");t.label(v).for((0,Pe._)`;${$}--;`,()=>t.for((0,Pe._)`${b} = ${$}; ${b}--;`,()=>t.if((0,Pe._)`${w}(${r}[${$}], ${r}[${b}])`,()=>{e.error(),t.assign(o,!1).break(v)})))}}};gs.default=ef;var _s={};Object.defineProperty(_s,"__esModule",{value:!0});const Tn=Z,tf=z,rf=br,nf={message:"must be equal to constant",params:({schemaCode:e})=>(0,Tn._)`{allowedValue: ${e}}`},sf={keyword:"const",$data:!0,error:nf,code(e){const{gen:t,data:r,$data:n,schemaCode:s,schema:a}=e;n||a&&typeof a=="object"?e.fail$data((0,Tn._)`!${(0,tf.useFunc)(t,rf.default)}(${r}, ${s})`):e.fail((0,Tn._)`${a} !== ${r}`)}};_s.default=sf;var Es={};Object.defineProperty(Es,"__esModule",{value:!0});const pr=Z,af=z,of=br,cf={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,pr._)`{allowedValues: ${e}}`},lf={keyword:"enum",schemaType:"array",$data:!0,error:cf,code(e){const{gen:t,data:r,$data:n,schema:s,schemaCode:a,it:i}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const u=s.length>=i.opts.loopEnum;let o;const c=()=>o??(o=(0,af.useFunc)(t,of.default));let f;if(u||n)f=t.let("valid"),e.block$data(f,h);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const E=t.const("vSchema",a);f=(0,pr.or)(...s.map(($,b)=>P(E,b)))}e.pass(f);function h(){t.assign(f,!1),t.forOf("v",a,E=>t.if((0,pr._)`${c()}(${r}, ${E})`,()=>t.assign(f,!0).break()))}function P(E,$){const b=s[$];return typeof b=="object"&&b!==null?(0,pr._)`${c()}(${r}, ${E}[${$}])`:(0,pr._)`${r} === ${b}`}}};Es.default=lf;Object.defineProperty(us,"__esModule",{value:!0});const uf=fs,ff=ds,df=hs,hf=ms,pf=ys,mf=$s,yf=vs,$f=gs,vf=_s,gf=Es,_f=[uf.default,ff.default,df.default,hf.default,pf.default,mf.default,yf.default,$f.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},vf.default,gf.default];us.default=_f;var ws={},Qt={};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.validateAdditionalItems=void 0;const Nt=Z,An=z,Ef={message:({params:{len:e}})=>(0,Nt.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Nt._)`{limit: ${e}}`},wf={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Ef,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,An.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}si(e,n)}};function si(e,t){const{gen:r,schema:n,data:s,keyword:a,it:i}=e;i.items=!0;const u=r.const("len",(0,Nt._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Nt._)`${u} <= ${t.length}`);else if(typeof n=="object"&&!(0,An.alwaysValidSchema)(i,n)){const c=r.var("valid",(0,Nt._)`${u} <= ${t.length}`);r.if((0,Nt.not)(c),()=>o(c)),e.ok(c)}function o(c){r.forRange("i",t.length,u,f=>{e.subschema({keyword:a,dataProp:f,dataPropType:An.Type.Num},c),i.allErrors||r.if((0,Nt.not)(c),()=>r.break())})}}Qt.validateAdditionalItems=si;Qt.default=wf;var Ss={},Zt={};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.validateTuple=void 0;const ga=Z,Gr=z,Sf=ee,bf={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return ai(e,"additionalItems",t);r.items=!0,!(0,Gr.alwaysValidSchema)(r,t)&&e.ok((0,Sf.validateArray)(e))}};function ai(e,t,r=e.schema){const{gen:n,parentSchema:s,data:a,keyword:i,it:u}=e;f(s),u.opts.unevaluated&&r.length&&u.items!==!0&&(u.items=Gr.mergeEvaluated.items(n,r.length,u.items));const o=n.name("valid"),c=n.const("len",(0,ga._)`${a}.length`);r.forEach((h,P)=>{(0,Gr.alwaysValidSchema)(u,h)||(n.if((0,ga._)`${c} > ${P}`,()=>e.subschema({keyword:i,schemaProp:P,dataProp:P},o)),e.ok(o))});function f(h){const{opts:P,errSchemaPath:E}=u,$=r.length,b=$===h.minItems&&($===h.maxItems||h[t]===!1);if(P.strictTuples&&!b){const w=`"${i}" is ${$}-tuple, but minItems or maxItems/${t} are not specified or different at path "${E}"`;(0,Gr.checkStrictMode)(u,w,P.strictTuples)}}}Zt.validateTuple=ai;Zt.default=bf;Object.defineProperty(Ss,"__esModule",{value:!0});const Of=Zt,Rf={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Of.validateTuple)(e,"items")};Ss.default=Rf;var bs={};Object.defineProperty(bs,"__esModule",{value:!0});const _a=Z,Pf=z,Nf=ee,If=Qt,Tf={message:({params:{len:e}})=>(0,_a.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,_a._)`{limit: ${e}}`},Af={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Tf,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,Pf.alwaysValidSchema)(n,t)&&(s?(0,If.validateAdditionalItems)(e,s):e.ok((0,Nf.validateArray)(e)))}};bs.default=Af;var Os={};Object.defineProperty(Os,"__esModule",{value:!0});const He=Z,Dr=z,Cf={message:({params:{min:e,max:t}})=>t===void 0?(0,He.str)`must contain at least ${e} valid item(s)`:(0,He.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,He._)`{minContains: ${e}}`:(0,He._)`{minContains: ${e}, maxContains: ${t}}`},Df={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Cf,code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;let i,u;const{minContains:o,maxContains:c}=n;a.opts.next?(i=o===void 0?1:o,u=c):i=1;const f=t.const("len",(0,He._)`${s}.length`);if(e.setParams({min:i,max:u}),u===void 0&&i===0){(0,Dr.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(u!==void 0&&i>u){(0,Dr.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Dr.alwaysValidSchema)(a,r)){let b=(0,He._)`${f} >= ${i}`;u!==void 0&&(b=(0,He._)`${b} && ${f} <= ${u}`),e.pass(b);return}a.items=!0;const h=t.name("valid");u===void 0&&i===1?E(h,()=>t.if(h,()=>t.break())):i===0?(t.let(h,!0),u!==void 0&&t.if((0,He._)`${s}.length > 0`,P)):(t.let(h,!1),P()),e.result(h,()=>e.reset());function P(){const b=t.name("_valid"),w=t.let("count",0);E(b,()=>t.if(b,()=>$(w)))}function E(b,w){t.forRange("i",0,f,v=>{e.subschema({keyword:"contains",dataProp:v,dataPropType:Dr.Type.Num,compositeRule:!0},b),w()})}function $(b){t.code((0,He._)`${b}++`),u===void 0?t.if((0,He._)`${b} >= ${i}`,()=>t.assign(h,!0).break()):(t.if((0,He._)`${b} > ${u}`,()=>t.assign(h,!1).break()),i===1?t.assign(h,!0):t.if((0,He._)`${b} >= ${i}`,()=>t.assign(h,!0)))}}};Os.default=Df;var oi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Z,r=z,n=ee;e.error={message:({params:{property:o,depsCount:c,deps:f}})=>{const h=c===1?"property":"properties";return(0,t.str)`must have ${h} ${f} when property ${o} is present`},params:({params:{property:o,depsCount:c,deps:f,missingProperty:h}})=>(0,t._)`{property: ${o},
    missingProperty: ${h},
    depsCount: ${c},
    deps: ${f}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(o){const[c,f]=a(o);i(o,c),u(o,f)}};function a({schema:o}){const c={},f={};for(const h in o){if(h==="__proto__")continue;const P=Array.isArray(o[h])?c:f;P[h]=o[h]}return[c,f]}function i(o,c=o.schema){const{gen:f,data:h,it:P}=o;if(Object.keys(c).length===0)return;const E=f.let("missing");for(const $ in c){const b=c[$];if(b.length===0)continue;const w=(0,n.propertyInData)(f,h,$,P.opts.ownProperties);o.setParams({property:$,depsCount:b.length,deps:b.join(", ")}),P.allErrors?f.if(w,()=>{for(const v of b)(0,n.checkReportMissingProp)(o,v)}):(f.if((0,t._)`${w} && (${(0,n.checkMissingProp)(o,b,E)})`),(0,n.reportMissingProp)(o,E),f.else())}}e.validatePropertyDeps=i;function u(o,c=o.schema){const{gen:f,data:h,keyword:P,it:E}=o,$=f.name("valid");for(const b in c)(0,r.alwaysValidSchema)(E,c[b])||(f.if((0,n.propertyInData)(f,h,b,E.opts.ownProperties),()=>{const w=o.subschema({keyword:P,schemaProp:b},$);o.mergeValidEvaluated(w,$)},()=>f.var($,!0)),o.ok($))}e.validateSchemaDeps=u,e.default=s})(oi);var Rs={};Object.defineProperty(Rs,"__esModule",{value:!0});const ii=Z,jf=z,Lf={message:"property name must be valid",params:({params:e})=>(0,ii._)`{propertyName: ${e.propertyName}}`},kf={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Lf,code(e){const{gen:t,schema:r,data:n,it:s}=e;if((0,jf.alwaysValidSchema)(s,r))return;const a=t.name("valid");t.forIn("key",n,i=>{e.setParams({propertyName:i}),e.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},a),t.if((0,ii.not)(a),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(a)}};Rs.default=kf;var rn={};Object.defineProperty(rn,"__esModule",{value:!0});const jr=ee,Xe=Z,Ff=ct,Lr=z,Mf={message:"must NOT have additional properties",params:({params:e})=>(0,Xe._)`{additionalProperty: ${e.additionalProperty}}`},Uf={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Mf,code(e){const{gen:t,schema:r,parentSchema:n,data:s,errsCount:a,it:i}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:u,opts:o}=i;if(i.props=!0,o.removeAdditional!=="all"&&(0,Lr.alwaysValidSchema)(i,r))return;const c=(0,jr.allSchemaProperties)(n.properties),f=(0,jr.allSchemaProperties)(n.patternProperties);h(),e.ok((0,Xe._)`${a} === ${Ff.default.errors}`);function h(){t.forIn("key",s,w=>{!c.length&&!f.length?$(w):t.if(P(w),()=>$(w))})}function P(w){let v;if(c.length>8){const O=(0,Lr.schemaRefOrVal)(i,n.properties,"properties");v=(0,jr.isOwnProperty)(t,O,w)}else c.length?v=(0,Xe.or)(...c.map(O=>(0,Xe._)`${w} === ${O}`)):v=Xe.nil;return f.length&&(v=(0,Xe.or)(v,...f.map(O=>(0,Xe._)`${(0,jr.usePattern)(e,O)}.test(${w})`))),(0,Xe.not)(v)}function E(w){t.code((0,Xe._)`delete ${s}[${w}]`)}function $(w){if(o.removeAdditional==="all"||o.removeAdditional&&r===!1){E(w);return}if(r===!1){e.setParams({additionalProperty:w}),e.error(),u||t.break();return}if(typeof r=="object"&&!(0,Lr.alwaysValidSchema)(i,r)){const v=t.name("valid");o.removeAdditional==="failing"?(b(w,v,!1),t.if((0,Xe.not)(v),()=>{e.reset(),E(w)})):(b(w,v),u||t.if((0,Xe.not)(v),()=>t.break()))}}function b(w,v,O){const D={keyword:"additionalProperties",dataProp:w,dataPropType:Lr.Type.Str};O===!1&&Object.assign(D,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(D,v)}}};rn.default=Uf;var Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});const Vf=Be,Ea=ee,yn=z,wa=rn,zf={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&wa.default.code(new Vf.KeywordCxt(a,wa.default,"additionalProperties"));const i=(0,Ea.allSchemaProperties)(r);for(const h of i)a.definedProperties.add(h);a.opts.unevaluated&&i.length&&a.props!==!0&&(a.props=yn.mergeEvaluated.props(t,(0,yn.toHash)(i),a.props));const u=i.filter(h=>!(0,yn.alwaysValidSchema)(a,r[h]));if(u.length===0)return;const o=t.name("valid");for(const h of u)c(h)?f(h):(t.if((0,Ea.propertyInData)(t,s,h,a.opts.ownProperties)),f(h),a.allErrors||t.else().var(o,!0),t.endIf()),e.it.definedProperties.add(h),e.ok(o);function c(h){return a.opts.useDefaults&&!a.compositeRule&&r[h].default!==void 0}function f(h){e.subschema({keyword:"properties",schemaProp:h,dataProp:h},o)}}};Ps.default=zf;var Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});const Sa=ee,kr=Z,ba=z,Oa=z,qf={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:s,it:a}=e,{opts:i}=a,u=(0,Sa.allSchemaProperties)(r),o=u.filter(b=>(0,ba.alwaysValidSchema)(a,r[b]));if(u.length===0||o.length===u.length&&(!a.opts.unevaluated||a.props===!0))return;const c=i.strictSchema&&!i.allowMatchingProperties&&s.properties,f=t.name("valid");a.props!==!0&&!(a.props instanceof kr.Name)&&(a.props=(0,Oa.evaluatedPropsToName)(t,a.props));const{props:h}=a;P();function P(){for(const b of u)c&&E(b),a.allErrors?$(b):(t.var(f,!0),$(b),t.if(f))}function E(b){for(const w in c)new RegExp(b).test(w)&&(0,ba.checkStrictMode)(a,`property ${w} matches pattern ${b} (use allowMatchingProperties)`)}function $(b){t.forIn("key",n,w=>{t.if((0,kr._)`${(0,Sa.usePattern)(e,b)}.test(${w})`,()=>{const v=o.includes(b);v||e.subschema({keyword:"patternProperties",schemaProp:b,dataProp:w,dataPropType:Oa.Type.Str},f),a.opts.unevaluated&&h!==!0?t.assign((0,kr._)`${h}[${w}]`,!0):!v&&!a.allErrors&&t.if((0,kr.not)(f),()=>t.break())})})}}};Ns.default=qf;var Is={};Object.defineProperty(Is,"__esModule",{value:!0});const Gf=z,Kf={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,Gf.alwaysValidSchema)(n,r)){e.fail();return}const s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Is.default=Kf;var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});const Hf=ee,xf={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Hf.validateUnion,error:{message:"must match a schema in anyOf"}};Ts.default=xf;var As={};Object.defineProperty(As,"__esModule",{value:!0});const Kr=Z,Xf=z,Wf={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Kr._)`{passingSchemas: ${e.passing}}`},Bf={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Wf,code(e){const{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const a=r,i=t.let("valid",!1),u=t.let("passing",null),o=t.name("_valid");e.setParams({passing:u}),t.block(c),e.result(i,()=>e.reset(),()=>e.error(!0));function c(){a.forEach((f,h)=>{let P;(0,Xf.alwaysValidSchema)(s,f)?t.var(o,!0):P=e.subschema({keyword:"oneOf",schemaProp:h,compositeRule:!0},o),h>0&&t.if((0,Kr._)`${o} && ${i}`).assign(i,!1).assign(u,(0,Kr._)`[${u}, ${h}]`).else(),t.if(o,()=>{t.assign(i,!0),t.assign(u,h),P&&e.mergeEvaluated(P,Kr.Name)})})}}};As.default=Bf;var Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});const Yf=z,Jf={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=t.name("valid");r.forEach((a,i)=>{if((0,Yf.alwaysValidSchema)(n,a))return;const u=e.subschema({keyword:"allOf",schemaProp:i},s);e.ok(s),e.mergeEvaluated(u)})}};Cs.default=Jf;var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});const Yr=Z,ci=z,Qf={message:({params:e})=>(0,Yr.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Yr._)`{failingKeyword: ${e.ifClause}}`},Zf={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Qf,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,ci.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=Ra(n,"then"),a=Ra(n,"else");if(!s&&!a)return;const i=t.let("valid",!0),u=t.name("_valid");if(o(),e.reset(),s&&a){const f=t.let("ifClause");e.setParams({ifClause:f}),t.if(u,c("then",f),c("else",f))}else s?t.if(u,c("then")):t.if((0,Yr.not)(u),c("else"));e.pass(i,()=>e.error(!0));function o(){const f=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(f)}function c(f,h){return()=>{const P=e.subschema({keyword:f},u);t.assign(i,u),e.mergeValidEvaluated(P,i),h?t.assign(h,(0,Yr._)`${f}`):e.setParams({ifClause:f})}}}};function Ra(e,t){const r=e.schema[t];return r!==void 0&&!(0,ci.alwaysValidSchema)(e,r)}Ds.default=Zf;var js={};Object.defineProperty(js,"__esModule",{value:!0});const ed=z,td={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,ed.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};js.default=td;Object.defineProperty(ws,"__esModule",{value:!0});const rd=Qt,nd=Ss,sd=Zt,ad=bs,od=Os,id=oi,cd=Rs,ld=rn,ud=Ps,fd=Ns,dd=Is,hd=Ts,pd=As,md=Cs,yd=Ds,$d=js;function vd(e=!1){const t=[dd.default,hd.default,pd.default,md.default,yd.default,$d.default,cd.default,ld.default,id.default,ud.default,fd.default];return e?t.push(nd.default,ad.default):t.push(rd.default,sd.default),t.push(od.default),t}ws.default=vd;var Ls={},ks={};Object.defineProperty(ks,"__esModule",{value:!0});const we=Z,gd={message:({schemaCode:e})=>(0,we.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,we._)`{format: ${e}}`},_d={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:gd,code(e,t){const{gen:r,data:n,$data:s,schema:a,schemaCode:i,it:u}=e,{opts:o,errSchemaPath:c,schemaEnv:f,self:h}=u;if(!o.validateFormats)return;s?P():E();function P(){const $=r.scopeValue("formats",{ref:h.formats,code:o.code.formats}),b=r.const("fDef",(0,we._)`${$}[${i}]`),w=r.let("fType"),v=r.let("format");r.if((0,we._)`typeof ${b} == "object" && !(${b} instanceof RegExp)`,()=>r.assign(w,(0,we._)`${b}.type || "string"`).assign(v,(0,we._)`${b}.validate`),()=>r.assign(w,(0,we._)`"string"`).assign(v,b)),e.fail$data((0,we.or)(O(),D()));function O(){return o.strictSchema===!1?we.nil:(0,we._)`${i} && !${v}`}function D(){const k=f.$async?(0,we._)`(${b}.async ? await ${v}(${n}) : ${v}(${n}))`:(0,we._)`${v}(${n})`,V=(0,we._)`(typeof ${v} == "function" ? ${k} : ${v}.test(${n}))`;return(0,we._)`${v} && ${v} !== true && ${w} === ${t} && !${V}`}}function E(){const $=h.formats[a];if(!$){O();return}if($===!0)return;const[b,w,v]=D($);b===t&&e.pass(k());function O(){if(o.strictSchema===!1){h.logger.warn(V());return}throw new Error(V());function V(){return`unknown format "${a}" ignored in schema at path "${c}"`}}function D(V){const te=V instanceof RegExp?(0,we.regexpCode)(V):o.code.formats?(0,we._)`${o.code.formats}${(0,we.getProperty)(a)}`:void 0,oe=r.scopeValue("formats",{key:a,ref:V,code:te});return typeof V=="object"&&!(V instanceof RegExp)?[V.type||"string",V.validate,(0,we._)`${oe}.validate`]:["string",V,oe]}function k(){if(typeof $=="object"&&!($ instanceof RegExp)&&$.async){if(!f.$async)throw new Error("async format in sync schema");return(0,we._)`await ${v}(${n})`}return typeof w=="function"?(0,we._)`${v}(${n})`:(0,we._)`${v}.test(${n})`}}}};ks.default=_d;Object.defineProperty(Ls,"__esModule",{value:!0});const Ed=ks,wd=[Ed.default];Ls.default=wd;var Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.contentVocabulary=Yt.metadataVocabulary=void 0;Yt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Yt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(is,"__esModule",{value:!0});const Sd=cs,bd=us,Od=ws,Rd=Ls,Pa=Yt,Pd=[Sd.default,bd.default,(0,Od.default)(),Rd.default,Pa.metadataVocabulary,Pa.contentVocabulary];is.default=Pd;var Fs={},nn={};Object.defineProperty(nn,"__esModule",{value:!0});nn.DiscrError=void 0;var Na;(function(e){e.Tag="tag",e.Mapping="mapping"})(Na||(nn.DiscrError=Na={}));Object.defineProperty(Fs,"__esModule",{value:!0});const qt=Z,Cn=nn,Ia=Ue,Nd=Jt,Id=z,Td={message:({params:{discrError:e,tagName:t}})=>e===Cn.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,qt._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},Ad={keyword:"discriminator",type:"object",schemaType:"object",error:Td,code(e){const{gen:t,data:r,schema:n,parentSchema:s,it:a}=e,{oneOf:i}=s;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");const u=n.propertyName;if(typeof u!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");const o=t.let("valid",!1),c=t.const("tag",(0,qt._)`${r}${(0,qt.getProperty)(u)}`);t.if((0,qt._)`typeof ${c} == "string"`,()=>f(),()=>e.error(!1,{discrError:Cn.DiscrError.Tag,tag:c,tagName:u})),e.ok(o);function f(){const E=P();t.if(!1);for(const $ in E)t.elseIf((0,qt._)`${c} === ${$}`),t.assign(o,h(E[$]));t.else(),e.error(!1,{discrError:Cn.DiscrError.Mapping,tag:c,tagName:u}),t.endIf()}function h(E){const $=t.name("valid"),b=e.subschema({keyword:"oneOf",schemaProp:E},$);return e.mergeEvaluated(b,qt.Name),$}function P(){var E;const $={},b=v(s);let w=!0;for(let k=0;k<i.length;k++){let V=i[k];if(V!=null&&V.$ref&&!(0,Id.schemaHasRulesButRef)(V,a.self.RULES)){const oe=V.$ref;if(V=Ia.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,oe),V instanceof Ia.SchemaEnv&&(V=V.schema),V===void 0)throw new Nd.default(a.opts.uriResolver,a.baseId,oe)}const te=(E=V==null?void 0:V.properties)===null||E===void 0?void 0:E[u];if(typeof te!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${u}"`);w=w&&(b||v(V)),O(te,k)}if(!w)throw new Error(`discriminator: "${u}" must be required`);return $;function v({required:k}){return Array.isArray(k)&&k.includes(u)}function O(k,V){if(k.const)D(k.const,V);else if(k.enum)for(const te of k.enum)D(te,V);else throw new Error(`discriminator: "properties/${u}" must have "const" or "enum"`)}function D(k,V){if(typeof k!="string"||k in $)throw new Error(`discriminator: "${u}" values must be unique strings`);$[k]=V}}}};Fs.default=Ad;const Cd="http://json-schema.org/draft-07/schema#",Dd="http://json-schema.org/draft-07/schema#",jd="Core schema meta-schema",Ld={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},kd=["object","boolean"],Fd={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Md={$schema:Cd,$id:Dd,title:jd,definitions:Ld,type:kd,properties:Fd,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=Eo,n=is,s=Fs,a=Md,i=["/properties"],u="http://json-schema.org/draft-07/schema";class o extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach($=>this.addVocabulary($)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const $=this.opts.$data?this.$dataMetaSchema(a,i):a;this.addMetaSchema($,u,!1),this.refs["http://json-schema.org/schema"]=u}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}t.Ajv=o,e.exports=t=o,e.exports.Ajv=o,Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var c=Be;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var f=Z;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var h=Sr;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return h.default}});var P=Jt;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return P.default}})})(bn,bn.exports);var li=bn.exports,Dn={exports:{}},ui={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(x,B){return{validate:x,compare:B}}e.fullFormats={date:t(a,i),time:t(o,c),"date-time":t(h,P),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:b,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:Re,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:v,int32:{type:"number",validate:k},int64:{type:"number",validate:V},float:{type:"number",validate:te},double:{type:"number",validate:te},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,i),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,c),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,P),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(x){return x%4===0&&(x%100!==0||x%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31];function a(x){const B=n.exec(x);if(!B)return!1;const le=+B[1],J=+B[2],L=+B[3];return J>=1&&J<=12&&L>=1&&L<=(J===2&&r(le)?29:s[J])}function i(x,B){if(x&&B)return x>B?1:x<B?-1:0}const u=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function o(x,B){const le=u.exec(x);if(!le)return!1;const J=+le[1],L=+le[2],j=+le[3],q=le[5];return(J<=23&&L<=59&&j<=59||J===23&&L===59&&j===60)&&(!B||q!=="")}function c(x,B){if(!(x&&B))return;const le=u.exec(x),J=u.exec(B);if(le&&J)return x=le[1]+le[2]+le[3]+(le[4]||""),B=J[1]+J[2]+J[3]+(J[4]||""),x>B?1:x<B?-1:0}const f=/t|\s/i;function h(x){const B=x.split(f);return B.length===2&&a(B[0])&&o(B[1],!0)}function P(x,B){if(!(x&&B))return;const[le,J]=x.split(f),[L,j]=B.split(f),q=i(le,L);if(q!==void 0)return q||c(J,j)}const E=/\/|:/,$=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function b(x){return E.test(x)&&$.test(x)}const w=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function v(x){return w.lastIndex=0,w.test(x)}const O=-(2**31),D=2**31-1;function k(x){return Number.isInteger(x)&&x<=D&&x>=O}function V(x){return Number.isInteger(x)}function te(){return!0}const oe=/[^\\]\\Z/;function Re(x){if(oe.test(x))return!1;try{return new RegExp(x),!0}catch{return!1}}})(ui);var fi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=li,r=Z,n=r.operators,s={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},a={message:({keyword:u,schemaCode:o})=>r.str`should be ${s[u].okStr} ${o}`,params:({keyword:u,schemaCode:o})=>r._`{comparison: ${s[u].okStr}, limit: ${o}}`};e.formatLimitDefinition={keyword:Object.keys(s),type:"string",schemaType:"string",$data:!0,error:a,code(u){const{gen:o,data:c,schemaCode:f,keyword:h,it:P}=u,{opts:E,self:$}=P;if(!E.validateFormats)return;const b=new t.KeywordCxt(P,$.RULES.all.format.definition,"format");b.$data?w():v();function w(){const D=o.scopeValue("formats",{ref:$.formats,code:E.code.formats}),k=o.const("fmt",r._`${D}[${b.schemaCode}]`);u.fail$data(r.or(r._`typeof ${k} != "object"`,r._`${k} instanceof RegExp`,r._`typeof ${k}.compare != "function"`,O(k)))}function v(){const D=b.schema,k=$.formats[D];if(!k||k===!0)return;if(typeof k!="object"||k instanceof RegExp||typeof k.compare!="function")throw new Error(`"${h}": format "${D}" does not define "compare" function`);const V=o.scopeValue("formats",{key:D,ref:k,code:E.code.formats?r._`${E.code.formats}${r.getProperty(D)}`:void 0});u.fail$data(O(V))}function O(D){return r._`${D}.compare(${c}, ${f}) ${s[h].fail} 0`}},dependencies:["format"]};const i=u=>(u.addKeyword(e.formatLimitDefinition),u);e.default=i})(fi);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=ui,n=fi,s=Z,a=new s.Name("fullFormats"),i=new s.Name("fastFormats"),u=(c,f={keywords:!0})=>{if(Array.isArray(f))return o(c,f,r.fullFormats,a),c;const[h,P]=f.mode==="fast"?[r.fastFormats,i]:[r.fullFormats,a],E=f.formats||r.formatNames;return o(c,E,h,P),f.keywords&&n.default(c),c};u.get=(c,f="full")=>{const P=(f==="fast"?r.fastFormats:r.fullFormats)[c];if(!P)throw new Error(`Unknown format "${c}"`);return P};function o(c,f,h,P){var E,$;(E=($=c.opts.code).formats)!==null&&E!==void 0||($.formats=s._`require("ajv-formats/dist/formats").${P}`);for(const b of f)c.addFormat(b,h[b])}e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u})(Dn,Dn.exports);var Ud=Dn.exports;const Vd=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const s=Object.getOwnPropertyDescriptor(e,r),a=Object.getOwnPropertyDescriptor(t,r);!zd(s,a)&&n||Object.defineProperty(e,r,a)},zd=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},qd=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},Gd=(e,t)=>`/* Wrapped ${e}*/
${t}`,Kd=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),Hd=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),xd=(e,t,r)=>{const n=r===""?"":`with ${r.trim()}() `,s=Gd.bind(null,n,t.toString());Object.defineProperty(s,"name",Hd),Object.defineProperty(e,"toString",{...Kd,value:s})},Xd=(e,t,{ignoreNonConfigurable:r=!1}={})=>{const{name:n}=e;for(const s of Reflect.ownKeys(t))Vd(e,t,s,r);return qd(e,t),xd(e,t,n),e};var Wd=Xd;const Bd=Wd;var Yd=(e,t={})=>{if(typeof e!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:r=0,before:n=!1,after:s=!0}=t;if(!n&&!s)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let a,i;const u=function(...o){const c=this,f=()=>{a=void 0,s&&(i=e.apply(c,o))},h=n&&!a;return clearTimeout(a),a=setTimeout(f,r),h&&(i=e.apply(c,o)),i};return Bd(u,e),u.cancel=()=>{a&&(clearTimeout(a),a=void 0)},u},jn={exports:{}};const Jd="2.0.0",di=256,Qd=Number.MAX_SAFE_INTEGER||9007199254740991,Zd=16,eh=di-6,th=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var sn={MAX_LENGTH:di,MAX_SAFE_COMPONENT_LENGTH:Zd,MAX_SAFE_BUILD_LENGTH:eh,MAX_SAFE_INTEGER:Qd,RELEASE_TYPES:th,SEMVER_SPEC_VERSION:Jd,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const rh=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var an=rh;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=sn,a=an;t=e.exports={};const i=t.re=[],u=t.safeRe=[],o=t.src=[],c=t.t={};let f=0;const h="[a-zA-Z0-9-]",P=[["\\s",1],["\\d",s],[h,n]],E=b=>{for(const[w,v]of P)b=b.split(`${w}*`).join(`${w}{0,${v}}`).split(`${w}+`).join(`${w}{1,${v}}`);return b},$=(b,w,v)=>{const O=E(w),D=f++;a(b,D,w),c[b]=D,o[D]=w,i[D]=new RegExp(w,v?"g":void 0),u[D]=new RegExp(O,v?"g":void 0)};$("NUMERICIDENTIFIER","0|[1-9]\\d*"),$("NUMERICIDENTIFIERLOOSE","\\d+"),$("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),$("MAINVERSION",`(${o[c.NUMERICIDENTIFIER]})\\.(${o[c.NUMERICIDENTIFIER]})\\.(${o[c.NUMERICIDENTIFIER]})`),$("MAINVERSIONLOOSE",`(${o[c.NUMERICIDENTIFIERLOOSE]})\\.(${o[c.NUMERICIDENTIFIERLOOSE]})\\.(${o[c.NUMERICIDENTIFIERLOOSE]})`),$("PRERELEASEIDENTIFIER",`(?:${o[c.NUMERICIDENTIFIER]}|${o[c.NONNUMERICIDENTIFIER]})`),$("PRERELEASEIDENTIFIERLOOSE",`(?:${o[c.NUMERICIDENTIFIERLOOSE]}|${o[c.NONNUMERICIDENTIFIER]})`),$("PRERELEASE",`(?:-(${o[c.PRERELEASEIDENTIFIER]}(?:\\.${o[c.PRERELEASEIDENTIFIER]})*))`),$("PRERELEASELOOSE",`(?:-?(${o[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[c.PRERELEASEIDENTIFIERLOOSE]})*))`),$("BUILDIDENTIFIER",`${h}+`),$("BUILD",`(?:\\+(${o[c.BUILDIDENTIFIER]}(?:\\.${o[c.BUILDIDENTIFIER]})*))`),$("FULLPLAIN",`v?${o[c.MAINVERSION]}${o[c.PRERELEASE]}?${o[c.BUILD]}?`),$("FULL",`^${o[c.FULLPLAIN]}$`),$("LOOSEPLAIN",`[v=\\s]*${o[c.MAINVERSIONLOOSE]}${o[c.PRERELEASELOOSE]}?${o[c.BUILD]}?`),$("LOOSE",`^${o[c.LOOSEPLAIN]}$`),$("GTLT","((?:<|>)?=?)"),$("XRANGEIDENTIFIERLOOSE",`${o[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),$("XRANGEIDENTIFIER",`${o[c.NUMERICIDENTIFIER]}|x|X|\\*`),$("XRANGEPLAIN",`[v=\\s]*(${o[c.XRANGEIDENTIFIER]})(?:\\.(${o[c.XRANGEIDENTIFIER]})(?:\\.(${o[c.XRANGEIDENTIFIER]})(?:${o[c.PRERELEASE]})?${o[c.BUILD]}?)?)?`),$("XRANGEPLAINLOOSE",`[v=\\s]*(${o[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[c.XRANGEIDENTIFIERLOOSE]})(?:${o[c.PRERELEASELOOSE]})?${o[c.BUILD]}?)?)?`),$("XRANGE",`^${o[c.GTLT]}\\s*${o[c.XRANGEPLAIN]}$`),$("XRANGELOOSE",`^${o[c.GTLT]}\\s*${o[c.XRANGEPLAINLOOSE]}$`),$("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),$("COERCE",`${o[c.COERCEPLAIN]}(?:$|[^\\d])`),$("COERCEFULL",o[c.COERCEPLAIN]+`(?:${o[c.PRERELEASE]})?(?:${o[c.BUILD]})?(?:$|[^\\d])`),$("COERCERTL",o[c.COERCE],!0),$("COERCERTLFULL",o[c.COERCEFULL],!0),$("LONETILDE","(?:~>?)"),$("TILDETRIM",`(\\s*)${o[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",$("TILDE",`^${o[c.LONETILDE]}${o[c.XRANGEPLAIN]}$`),$("TILDELOOSE",`^${o[c.LONETILDE]}${o[c.XRANGEPLAINLOOSE]}$`),$("LONECARET","(?:\\^)"),$("CARETTRIM",`(\\s*)${o[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",$("CARET",`^${o[c.LONECARET]}${o[c.XRANGEPLAIN]}$`),$("CARETLOOSE",`^${o[c.LONECARET]}${o[c.XRANGEPLAINLOOSE]}$`),$("COMPARATORLOOSE",`^${o[c.GTLT]}\\s*(${o[c.LOOSEPLAIN]})$|^$`),$("COMPARATOR",`^${o[c.GTLT]}\\s*(${o[c.FULLPLAIN]})$|^$`),$("COMPARATORTRIM",`(\\s*)${o[c.GTLT]}\\s*(${o[c.LOOSEPLAIN]}|${o[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",$("HYPHENRANGE",`^\\s*(${o[c.XRANGEPLAIN]})\\s+-\\s+(${o[c.XRANGEPLAIN]})\\s*$`),$("HYPHENRANGELOOSE",`^\\s*(${o[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[c.XRANGEPLAINLOOSE]})\\s*$`),$("STAR","(<|>)?=?\\s*\\*"),$("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),$("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(jn,jn.exports);var Or=jn.exports;const nh=Object.freeze({loose:!0}),sh=Object.freeze({}),ah=e=>e?typeof e!="object"?nh:e:sh;var Ms=ah;const Ta=/^[0-9]+$/,hi=(e,t)=>{const r=Ta.test(e),n=Ta.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},oh=(e,t)=>hi(t,e);var pi={compareIdentifiers:hi,rcompareIdentifiers:oh};const Fr=an,{MAX_LENGTH:Aa,MAX_SAFE_INTEGER:Mr}=sn,{safeRe:Ca,t:Da}=Or,ih=Ms,{compareIdentifiers:zt}=pi;let ch=class st{constructor(t,r){if(r=ih(r),t instanceof st){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>Aa)throw new TypeError(`version is longer than ${Aa} characters`);Fr("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?Ca[Da.LOOSE]:Ca[Da.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Mr||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Mr||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Mr||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const a=+s;if(a>=0&&a<Mr)return a}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Fr("SemVer.compare",this.version,this.options,t),!(t instanceof st)){if(typeof t=="string"&&t===this.version)return 0;t=new st(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof st||(t=new st(t,this.options)),zt(this.major,t.major)||zt(this.minor,t.minor)||zt(this.patch,t.patch)}comparePre(t){if(t instanceof st||(t=new st(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],s=t.prerelease[r];if(Fr("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return zt(n,s)}while(++r)}compareBuild(t){t instanceof st||(t=new st(t,this.options));let r=0;do{const n=this.build[r],s=t.build[r];if(Fr("build compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return zt(n,s)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let a=[r,s];n===!1&&(a=[r]),zt(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var je=ch;const ja=je,lh=(e,t,r=!1)=>{if(e instanceof ja)return e;try{return new ja(e,t)}catch(n){if(!r)return null;throw n}};var er=lh;const uh=er,fh=(e,t)=>{const r=uh(e,t);return r?r.version:null};var dh=fh;const hh=er,ph=(e,t)=>{const r=hh(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var mh=ph;const La=je,yh=(e,t,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new La(e instanceof La?e.version:e,r).inc(t,n,s).version}catch{return null}};var $h=yh;const ka=er,vh=(e,t)=>{const r=ka(e,null,!0),n=ka(t,null,!0),s=r.compare(n);if(s===0)return null;const a=s>0,i=a?r:n,u=a?n:r,o=!!i.prerelease.length;if(!!u.prerelease.length&&!o)return!u.patch&&!u.minor?"major":i.patch?"patch":i.minor?"minor":"major";const f=o?"pre":"";return r.major!==n.major?f+"major":r.minor!==n.minor?f+"minor":r.patch!==n.patch?f+"patch":"prerelease"};var gh=vh;const _h=je,Eh=(e,t)=>new _h(e,t).major;var wh=Eh;const Sh=je,bh=(e,t)=>new Sh(e,t).minor;var Oh=bh;const Rh=je,Ph=(e,t)=>new Rh(e,t).patch;var Nh=Ph;const Ih=er,Th=(e,t)=>{const r=Ih(e,t);return r&&r.prerelease.length?r.prerelease:null};var Ah=Th;const Fa=je,Ch=(e,t,r)=>new Fa(e,r).compare(new Fa(t,r));var Ye=Ch;const Dh=Ye,jh=(e,t,r)=>Dh(t,e,r);var Lh=jh;const kh=Ye,Fh=(e,t)=>kh(e,t,!0);var Mh=Fh;const Ma=je,Uh=(e,t,r)=>{const n=new Ma(e,r),s=new Ma(t,r);return n.compare(s)||n.compareBuild(s)};var Us=Uh;const Vh=Us,zh=(e,t)=>e.sort((r,n)=>Vh(r,n,t));var qh=zh;const Gh=Us,Kh=(e,t)=>e.sort((r,n)=>Gh(n,r,t));var Hh=Kh;const xh=Ye,Xh=(e,t,r)=>xh(e,t,r)>0;var on=Xh;const Wh=Ye,Bh=(e,t,r)=>Wh(e,t,r)<0;var Vs=Bh;const Yh=Ye,Jh=(e,t,r)=>Yh(e,t,r)===0;var mi=Jh;const Qh=Ye,Zh=(e,t,r)=>Qh(e,t,r)!==0;var yi=Zh;const ep=Ye,tp=(e,t,r)=>ep(e,t,r)>=0;var zs=tp;const rp=Ye,np=(e,t,r)=>rp(e,t,r)<=0;var qs=np;const sp=mi,ap=yi,op=on,ip=zs,cp=Vs,lp=qs,up=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return sp(e,r,n);case"!=":return ap(e,r,n);case">":return op(e,r,n);case">=":return ip(e,r,n);case"<":return cp(e,r,n);case"<=":return lp(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var $i=up;const fp=je,dp=er,{safeRe:Ur,t:Vr}=Or,hp=(e,t)=>{if(e instanceof fp)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?Ur[Vr.COERCEFULL]:Ur[Vr.COERCE]);else{const o=t.includePrerelease?Ur[Vr.COERCERTLFULL]:Ur[Vr.COERCERTL];let c;for(;(c=o.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||c.index+c[0].length!==r.index+r[0].length)&&(r=c),o.lastIndex=c.index+c[1].length+c[2].length;o.lastIndex=-1}if(r===null)return null;const n=r[2],s=r[3]||"0",a=r[4]||"0",i=t.includePrerelease&&r[5]?`-${r[5]}`:"",u=t.includePrerelease&&r[6]?`+${r[6]}`:"";return dp(`${n}.${s}.${a}${i}${u}`,t)};var pp=hp;class mp{constructor(){this.max=1e3,this.map=new Map}get(t){const r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(t,r)}return this}}var yp=mp,$n,Ua;function Je(){if(Ua)return $n;Ua=1;class e{constructor(j,q){if(q=n(q),j instanceof e)return j.loose===!!q.loose&&j.includePrerelease===!!q.includePrerelease?j:new e(j.raw,q);if(j instanceof s)return this.raw=j.value,this.set=[[j]],this.format(),this;if(this.options=q,this.loose=!!q.loose,this.includePrerelease=!!q.includePrerelease,this.raw=j.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(G=>this.parseRange(G.trim())).filter(G=>G.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const G=this.set[0];if(this.set=this.set.filter(M=>!$(M[0])),this.set.length===0)this.set=[G];else if(this.set.length>1){for(const M of this.set)if(M.length===1&&b(M[0])){this.set=[M];break}}}this.format()}format(){return this.range=this.set.map(j=>j.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(j){const G=((this.options.includePrerelease&&P)|(this.options.loose&&E))+":"+j,M=r.get(G);if(M)return M;const R=this.options.loose,C=R?u[o.HYPHENRANGELOOSE]:u[o.HYPHENRANGE];j=j.replace(C,le(this.options.includePrerelease)),a("hyphen replace",j),j=j.replace(u[o.COMPARATORTRIM],c),a("comparator trim",j),j=j.replace(u[o.TILDETRIM],f),a("tilde trim",j),j=j.replace(u[o.CARETTRIM],h),a("caret trim",j);let _=j.split(" ").map(l=>v(l,this.options)).join(" ").split(/\s+/).map(l=>B(l,this.options));R&&(_=_.filter(l=>(a("loose invalid filter",l,this.options),!!l.match(u[o.COMPARATORLOOSE])))),a("range list",_);const m=new Map,N=_.map(l=>new s(l,this.options));for(const l of N){if($(l))return[l];m.set(l.value,l)}m.size>1&&m.has("")&&m.delete("");const S=[...m.values()];return r.set(G,S),S}intersects(j,q){if(!(j instanceof e))throw new TypeError("a Range is required");return this.set.some(G=>w(G,q)&&j.set.some(M=>w(M,q)&&G.every(R=>M.every(C=>R.intersects(C,q)))))}test(j){if(!j)return!1;if(typeof j=="string")try{j=new i(j,this.options)}catch{return!1}for(let q=0;q<this.set.length;q++)if(J(this.set[q],j,this.options))return!0;return!1}}$n=e;const t=yp,r=new t,n=Ms,s=cn(),a=an,i=je,{safeRe:u,t:o,comparatorTrimReplace:c,tildeTrimReplace:f,caretTrimReplace:h}=Or,{FLAG_INCLUDE_PRERELEASE:P,FLAG_LOOSE:E}=sn,$=L=>L.value==="<0.0.0-0",b=L=>L.value==="",w=(L,j)=>{let q=!0;const G=L.slice();let M=G.pop();for(;q&&G.length;)q=G.every(R=>M.intersects(R,j)),M=G.pop();return q},v=(L,j)=>(a("comp",L,j),L=V(L,j),a("caret",L),L=D(L,j),a("tildes",L),L=oe(L,j),a("xrange",L),L=x(L,j),a("stars",L),L),O=L=>!L||L.toLowerCase()==="x"||L==="*",D=(L,j)=>L.trim().split(/\s+/).map(q=>k(q,j)).join(" "),k=(L,j)=>{const q=j.loose?u[o.TILDELOOSE]:u[o.TILDE];return L.replace(q,(G,M,R,C,_)=>{a("tilde",L,G,M,R,C,_);let m;return O(M)?m="":O(R)?m=`>=${M}.0.0 <${+M+1}.0.0-0`:O(C)?m=`>=${M}.${R}.0 <${M}.${+R+1}.0-0`:_?(a("replaceTilde pr",_),m=`>=${M}.${R}.${C}-${_} <${M}.${+R+1}.0-0`):m=`>=${M}.${R}.${C} <${M}.${+R+1}.0-0`,a("tilde return",m),m})},V=(L,j)=>L.trim().split(/\s+/).map(q=>te(q,j)).join(" "),te=(L,j)=>{a("caret",L,j);const q=j.loose?u[o.CARETLOOSE]:u[o.CARET],G=j.includePrerelease?"-0":"";return L.replace(q,(M,R,C,_,m)=>{a("caret",L,M,R,C,_,m);let N;return O(R)?N="":O(C)?N=`>=${R}.0.0${G} <${+R+1}.0.0-0`:O(_)?R==="0"?N=`>=${R}.${C}.0${G} <${R}.${+C+1}.0-0`:N=`>=${R}.${C}.0${G} <${+R+1}.0.0-0`:m?(a("replaceCaret pr",m),R==="0"?C==="0"?N=`>=${R}.${C}.${_}-${m} <${R}.${C}.${+_+1}-0`:N=`>=${R}.${C}.${_}-${m} <${R}.${+C+1}.0-0`:N=`>=${R}.${C}.${_}-${m} <${+R+1}.0.0-0`):(a("no pr"),R==="0"?C==="0"?N=`>=${R}.${C}.${_}${G} <${R}.${C}.${+_+1}-0`:N=`>=${R}.${C}.${_}${G} <${R}.${+C+1}.0-0`:N=`>=${R}.${C}.${_} <${+R+1}.0.0-0`),a("caret return",N),N})},oe=(L,j)=>(a("replaceXRanges",L,j),L.split(/\s+/).map(q=>Re(q,j)).join(" ")),Re=(L,j)=>{L=L.trim();const q=j.loose?u[o.XRANGELOOSE]:u[o.XRANGE];return L.replace(q,(G,M,R,C,_,m)=>{a("xRange",L,G,M,R,C,_,m);const N=O(R),S=N||O(C),l=S||O(_),p=l;return M==="="&&p&&(M=""),m=j.includePrerelease?"-0":"",N?M===">"||M==="<"?G="<0.0.0-0":G="*":M&&p?(S&&(C=0),_=0,M===">"?(M=">=",S?(R=+R+1,C=0,_=0):(C=+C+1,_=0)):M==="<="&&(M="<",S?R=+R+1:C=+C+1),M==="<"&&(m="-0"),G=`${M+R}.${C}.${_}${m}`):S?G=`>=${R}.0.0${m} <${+R+1}.0.0-0`:l&&(G=`>=${R}.${C}.0${m} <${R}.${+C+1}.0-0`),a("xRange return",G),G})},x=(L,j)=>(a("replaceStars",L,j),L.trim().replace(u[o.STAR],"")),B=(L,j)=>(a("replaceGTE0",L,j),L.trim().replace(u[j.includePrerelease?o.GTE0PRE:o.GTE0],"")),le=L=>(j,q,G,M,R,C,_,m,N,S,l,p)=>(O(G)?q="":O(M)?q=`>=${G}.0.0${L?"-0":""}`:O(R)?q=`>=${G}.${M}.0${L?"-0":""}`:C?q=`>=${q}`:q=`>=${q}${L?"-0":""}`,O(N)?m="":O(S)?m=`<${+N+1}.0.0-0`:O(l)?m=`<${N}.${+S+1}.0-0`:p?m=`<=${N}.${S}.${l}-${p}`:L?m=`<${N}.${S}.${+l+1}-0`:m=`<=${m}`,`${q} ${m}`.trim()),J=(L,j,q)=>{for(let G=0;G<L.length;G++)if(!L[G].test(j))return!1;if(j.prerelease.length&&!q.includePrerelease){for(let G=0;G<L.length;G++)if(a(L[G].semver),L[G].semver!==s.ANY&&L[G].semver.prerelease.length>0){const M=L[G].semver;if(M.major===j.major&&M.minor===j.minor&&M.patch===j.patch)return!0}return!1}return!0};return $n}var vn,Va;function cn(){if(Va)return vn;Va=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(f,h){if(h=r(h),f instanceof t){if(f.loose===!!h.loose)return f;f=f.value}f=f.trim().split(/\s+/).join(" "),i("comparator",f,h),this.options=h,this.loose=!!h.loose,this.parse(f),this.semver===e?this.value="":this.value=this.operator+this.semver.version,i("comp",this)}parse(f){const h=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],P=f.match(h);if(!P)throw new TypeError(`Invalid comparator: ${f}`);this.operator=P[1]!==void 0?P[1]:"",this.operator==="="&&(this.operator=""),P[2]?this.semver=new u(P[2],this.options.loose):this.semver=e}toString(){return this.value}test(f){if(i("Comparator.test",f,this.options.loose),this.semver===e||f===e)return!0;if(typeof f=="string")try{f=new u(f,this.options)}catch{return!1}return a(f,this.operator,this.semver,this.options)}intersects(f,h){if(!(f instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new o(f.value,h).test(this.value):f.operator===""?f.value===""?!0:new o(this.value,h).test(f.semver):(h=r(h),h.includePrerelease&&(this.value==="<0.0.0-0"||f.value==="<0.0.0-0")||!h.includePrerelease&&(this.value.startsWith("<0.0.0")||f.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&f.operator.startsWith(">")||this.operator.startsWith("<")&&f.operator.startsWith("<")||this.semver.version===f.semver.version&&this.operator.includes("=")&&f.operator.includes("=")||a(this.semver,"<",f.semver,h)&&this.operator.startsWith(">")&&f.operator.startsWith("<")||a(this.semver,">",f.semver,h)&&this.operator.startsWith("<")&&f.operator.startsWith(">")))}}vn=t;const r=Ms,{safeRe:n,t:s}=Or,a=$i,i=an,u=je,o=Je();return vn}const $p=Je(),vp=(e,t,r)=>{try{t=new $p(t,r)}catch{return!1}return t.test(e)};var ln=vp;const gp=Je(),_p=(e,t)=>new gp(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var Ep=_p;const wp=je,Sp=Je(),bp=(e,t,r)=>{let n=null,s=null,a=null;try{a=new Sp(t,r)}catch{return null}return e.forEach(i=>{a.test(i)&&(!n||s.compare(i)===-1)&&(n=i,s=new wp(n,r))}),n};var Op=bp;const Rp=je,Pp=Je(),Np=(e,t,r)=>{let n=null,s=null,a=null;try{a=new Pp(t,r)}catch{return null}return e.forEach(i=>{a.test(i)&&(!n||s.compare(i)===1)&&(n=i,s=new Rp(n,r))}),n};var Ip=Np;const gn=je,Tp=Je(),za=on,Ap=(e,t)=>{e=new Tp(e,t);let r=new gn("0.0.0");if(e.test(r)||(r=new gn("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const s=e.set[n];let a=null;s.forEach(i=>{const u=new gn(i.semver.version);switch(i.operator){case">":u.prerelease.length===0?u.patch++:u.prerelease.push(0),u.raw=u.format();case"":case">=":(!a||za(u,a))&&(a=u);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${i.operator}`)}}),a&&(!r||za(r,a))&&(r=a)}return r&&e.test(r)?r:null};var Cp=Ap;const Dp=Je(),jp=(e,t)=>{try{return new Dp(e,t).range||"*"}catch{return null}};var Lp=jp;const kp=je,vi=cn(),{ANY:Fp}=vi,Mp=Je(),Up=ln,qa=on,Ga=Vs,Vp=qs,zp=zs,qp=(e,t,r,n)=>{e=new kp(e,n),t=new Mp(t,n);let s,a,i,u,o;switch(r){case">":s=qa,a=Vp,i=Ga,u=">",o=">=";break;case"<":s=Ga,a=zp,i=qa,u="<",o="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Up(e,t,n))return!1;for(let c=0;c<t.set.length;++c){const f=t.set[c];let h=null,P=null;if(f.forEach(E=>{E.semver===Fp&&(E=new vi(">=0.0.0")),h=h||E,P=P||E,s(E.semver,h.semver,n)?h=E:i(E.semver,P.semver,n)&&(P=E)}),h.operator===u||h.operator===o||(!P.operator||P.operator===u)&&a(e,P.semver))return!1;if(P.operator===o&&i(e,P.semver))return!1}return!0};var Gs=qp;const Gp=Gs,Kp=(e,t,r)=>Gp(e,t,">",r);var Hp=Kp;const xp=Gs,Xp=(e,t,r)=>xp(e,t,"<",r);var Wp=Xp;const Ka=Je(),Bp=(e,t,r)=>(e=new Ka(e,r),t=new Ka(t,r),e.intersects(t,r));var Yp=Bp;const Jp=ln,Qp=Ye;var Zp=(e,t,r)=>{const n=[];let s=null,a=null;const i=e.sort((f,h)=>Qp(f,h,r));for(const f of i)Jp(f,t,r)?(a=f,s||(s=f)):(a&&n.push([s,a]),a=null,s=null);s&&n.push([s,null]);const u=[];for(const[f,h]of n)f===h?u.push(f):!h&&f===i[0]?u.push("*"):h?f===i[0]?u.push(`<=${h}`):u.push(`${f} - ${h}`):u.push(`>=${f}`);const o=u.join(" || "),c=typeof t.raw=="string"?t.raw:String(t);return o.length<c.length?o:t};const Ha=Je(),Ks=cn(),{ANY:_n}=Ks,dr=ln,Hs=Ye,em=(e,t,r={})=>{if(e===t)return!0;e=new Ha(e,r),t=new Ha(t,r);let n=!1;e:for(const s of e.set){for(const a of t.set){const i=rm(s,a,r);if(n=n||i!==null,i)continue e}if(n)return!1}return!0},tm=[new Ks(">=0.0.0-0")],xa=[new Ks(">=0.0.0")],rm=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===_n){if(t.length===1&&t[0].semver===_n)return!0;r.includePrerelease?e=tm:e=xa}if(t.length===1&&t[0].semver===_n){if(r.includePrerelease)return!0;t=xa}const n=new Set;let s,a;for(const E of e)E.operator===">"||E.operator===">="?s=Xa(s,E,r):E.operator==="<"||E.operator==="<="?a=Wa(a,E,r):n.add(E.semver);if(n.size>1)return null;let i;if(s&&a){if(i=Hs(s.semver,a.semver,r),i>0)return null;if(i===0&&(s.operator!==">="||a.operator!=="<="))return null}for(const E of n){if(s&&!dr(E,String(s),r)||a&&!dr(E,String(a),r))return null;for(const $ of t)if(!dr(E,String($),r))return!1;return!0}let u,o,c,f,h=a&&!r.includePrerelease&&a.semver.prerelease.length?a.semver:!1,P=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;h&&h.prerelease.length===1&&a.operator==="<"&&h.prerelease[0]===0&&(h=!1);for(const E of t){if(f=f||E.operator===">"||E.operator===">=",c=c||E.operator==="<"||E.operator==="<=",s){if(P&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===P.major&&E.semver.minor===P.minor&&E.semver.patch===P.patch&&(P=!1),E.operator===">"||E.operator===">="){if(u=Xa(s,E,r),u===E&&u!==s)return!1}else if(s.operator===">="&&!dr(s.semver,String(E),r))return!1}if(a){if(h&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===h.major&&E.semver.minor===h.minor&&E.semver.patch===h.patch&&(h=!1),E.operator==="<"||E.operator==="<="){if(o=Wa(a,E,r),o===E&&o!==a)return!1}else if(a.operator==="<="&&!dr(a.semver,String(E),r))return!1}if(!E.operator&&(a||s)&&i!==0)return!1}return!(s&&c&&!a&&i!==0||a&&f&&!s&&i!==0||P||h)},Xa=(e,t,r)=>{if(!e)return t;const n=Hs(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},Wa=(e,t,r)=>{if(!e)return t;const n=Hs(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var nm=em;const En=Or,Ba=sn,sm=je,Ya=pi,am=er,om=dh,im=mh,cm=$h,lm=gh,um=wh,fm=Oh,dm=Nh,hm=Ah,pm=Ye,mm=Lh,ym=Mh,$m=Us,vm=qh,gm=Hh,_m=on,Em=Vs,wm=mi,Sm=yi,bm=zs,Om=qs,Rm=$i,Pm=pp,Nm=cn(),Im=Je(),Tm=ln,Am=Ep,Cm=Op,Dm=Ip,jm=Cp,Lm=Lp,km=Gs,Fm=Hp,Mm=Wp,Um=Yp,Vm=Zp,zm=nm;var qm={parse:am,valid:om,clean:im,inc:cm,diff:lm,major:um,minor:fm,patch:dm,prerelease:hm,compare:pm,rcompare:mm,compareLoose:ym,compareBuild:$m,sort:vm,rsort:gm,gt:_m,lt:Em,eq:wm,neq:Sm,gte:bm,lte:Om,cmp:Rm,coerce:Pm,Comparator:Nm,Range:Im,satisfies:Tm,toComparators:Am,maxSatisfying:Cm,minSatisfying:Dm,minVersion:jm,validRange:Lm,outside:km,gtr:Fm,ltr:Mm,intersects:Um,simplifyRange:Vm,subset:zm,SemVer:sm,re:En.re,src:En.src,tokens:En.t,SEMVER_SPEC_VERSION:Ba.SEMVER_SPEC_VERSION,RELEASE_TYPES:Ba.RELEASE_TYPES,compareIdentifiers:Ya.compareIdentifiers,rcompareIdentifiers:Ya.rcompareIdentifiers},un={exports:{}},xs={exports:{}};const gi=(e,t)=>{for(const r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};xs.exports=gi;xs.exports.default=gi;var Gm=xs.exports;const Km=Gm,Jr=new WeakMap,_i=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0;const s=e.displayName||e.name||"<anonymous>",a=function(...i){if(Jr.set(a,++n),n===1)r=e.apply(this,i),e=null;else if(t.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return r};return Km(a,e),Jr.set(a,n),a};un.exports=_i;un.exports.default=_i;un.exports.callCount=e=>{if(!Jr.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return Jr.get(e)};var Hm=un.exports;(function(e,t){var r=hr&&hr.__classPrivateFieldSet||function(M,R,C,_,m){if(_==="m")throw new TypeError("Private method is not writable");if(_==="a"&&!m)throw new TypeError("Private accessor was defined without a setter");if(typeof R=="function"?M!==R||!m:!R.has(M))throw new TypeError("Cannot write private member to an object whose class did not declare it");return _==="a"?m.call(M,C):m?m.value=C:R.set(M,C),C},n=hr&&hr.__classPrivateFieldGet||function(M,R,C,_){if(C==="a"&&!_)throw new TypeError("Private accessor was defined without a getter");if(typeof R=="function"?M!==R||!_:!R.has(M))throw new TypeError("Cannot read private member from an object whose class did not declare it");return C==="m"?_:C==="a"?_.call(M):_?_.value:R.get(M)},s,a,i,u,o,c;Object.defineProperty(t,"__esModule",{value:!0});const f=to,h=kn,P=At,E=ji,$=Li,b=ki,w=qi,v=Zi,O=nc,D=ot,k=li,V=Ud,te=Yd,oe=qm,Re=Hm,x="aes-256-cbc",B=()=>Object.create(null),le=M=>M!=null;let J="";try{delete require.cache[__filename],J=P.dirname((a=(s=e.parent)===null||s===void 0?void 0:s.filename)!==null&&a!==void 0?a:".")}catch{}const L=(M,R)=>{const C=new Set(["undefined","symbol","function"]),_=typeof R;if(C.has(_))throw new TypeError(`Setting a value of type \`${_}\` for key \`${M}\` is not allowed as it's not supported by JSON`)},j="__internal__",q=`${j}.migrations.version`;class G{constructor(R={}){var C;i.set(this,void 0),u.set(this,void 0),o.set(this,void 0),c.set(this,{}),this._deserialize=p=>JSON.parse(p),this._serialize=p=>JSON.stringify(p,void 0,"	");const _={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...R},m=Re(()=>{const p=v.sync({cwd:J}),A=p&&JSON.parse(h.readFileSync(p,"utf8"));return A??{}});if(!_.cwd){if(_.projectName||(_.projectName=m().name),!_.projectName)throw new Error("Project name could not be inferred. Please specify the `projectName` option.");_.cwd=O(_.projectName,{suffix:_.projectSuffix}).config}if(r(this,o,_,"f"),_.schema){if(typeof _.schema!="object")throw new TypeError("The `schema` option must be an object.");const p=new k.default({allErrors:!0,useDefaults:!0});(0,V.default)(p);const A={type:"object",properties:_.schema};r(this,i,p.compile(A),"f");for(const[F,U]of Object.entries(_.schema))U!=null&&U.default&&(n(this,c,"f")[F]=U.default)}_.defaults&&r(this,c,{...n(this,c,"f"),..._.defaults},"f"),_.serialize&&(this._serialize=_.serialize),_.deserialize&&(this._deserialize=_.deserialize),this.events=new b.EventEmitter,r(this,u,_.encryptionKey,"f");const N=_.fileExtension?`.${_.fileExtension}`:"";this.path=P.resolve(_.cwd,`${(C=_.configName)!==null&&C!==void 0?C:"config"}${N}`);const S=this.store,l=Object.assign(B(),_.defaults,S);this._validate(l);try{$.deepEqual(S,l)}catch{this.store=l}if(_.watch&&this._watch(),_.migrations){if(_.projectVersion||(_.projectVersion=m().version),!_.projectVersion)throw new Error("Project version could not be inferred. Please specify the `projectVersion` option.");this._migrate(_.migrations,_.projectVersion,_.beforeEachMigration)}}get(R,C){if(n(this,o,"f").accessPropertiesByDotNotation)return this._get(R,C);const{store:_}=this;return R in _?_[R]:C}set(R,C){if(typeof R!="string"&&typeof R!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof R}`);if(typeof R!="object"&&C===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(R))throw new TypeError(`Please don't use the ${j} key, as it's used to manage this module internal operations.`);const{store:_}=this,m=(N,S)=>{L(N,S),n(this,o,"f").accessPropertiesByDotNotation?w.set(_,N,S):_[N]=S};if(typeof R=="object"){const N=R;for(const[S,l]of Object.entries(N))m(S,l)}else m(R,C);this.store=_}has(R){return n(this,o,"f").accessPropertiesByDotNotation?w.has(this.store,R):R in this.store}reset(...R){for(const C of R)le(n(this,c,"f")[C])&&this.set(C,n(this,c,"f")[C])}delete(R){const{store:C}=this;n(this,o,"f").accessPropertiesByDotNotation?w.delete(C,R):delete C[R],this.store=C}clear(){this.store=B();for(const R of Object.keys(n(this,c,"f")))this.reset(R)}onDidChange(R,C){if(typeof R!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof R}`);if(typeof C!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof C}`);return this._handleChange(()=>this.get(R),C)}onDidAnyChange(R){if(typeof R!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof R}`);return this._handleChange(()=>this.store,R)}get size(){return Object.keys(this.store).length}get store(){try{const R=h.readFileSync(this.path,n(this,u,"f")?null:"utf8"),C=this._encryptData(R),_=this._deserialize(C);return this._validate(_),Object.assign(B(),_)}catch(R){if((R==null?void 0:R.code)==="ENOENT")return this._ensureDirectory(),B();if(n(this,o,"f").clearInvalidConfig&&R.name==="SyntaxError")return B();throw R}}set store(R){this._ensureDirectory(),this._validate(R),this._write(R),this.events.emit("change")}*[(i=new WeakMap,u=new WeakMap,o=new WeakMap,c=new WeakMap,Symbol.iterator)](){for(const[R,C]of Object.entries(this.store))yield[R,C]}_encryptData(R){if(!n(this,u,"f"))return R.toString();try{if(n(this,u,"f"))try{if(R.slice(16,17).toString()===":"){const C=R.slice(0,16),_=E.pbkdf2Sync(n(this,u,"f"),C.toString(),1e4,32,"sha512"),m=E.createDecipheriv(x,_,C);R=Buffer.concat([m.update(Buffer.from(R.slice(17))),m.final()]).toString("utf8")}else{const C=E.createDecipher(x,n(this,u,"f"));R=Buffer.concat([C.update(Buffer.from(R)),C.final()]).toString("utf8")}}catch{}}catch{}return R.toString()}_handleChange(R,C){let _=R();const m=()=>{const N=_,S=R();(0,f.isDeepStrictEqual)(S,N)||(_=S,C.call(this,S,N))};return this.events.on("change",m),()=>this.events.removeListener("change",m)}_validate(R){if(!n(this,i,"f")||n(this,i,"f").call(this,R)||!n(this,i,"f").errors)return;const _=n(this,i,"f").errors.map(({instancePath:m,message:N=""})=>`\`${m.slice(1)}\` ${N}`);throw new Error("Config schema violation: "+_.join("; "))}_ensureDirectory(){h.mkdirSync(P.dirname(this.path),{recursive:!0})}_write(R){let C=this._serialize(R);if(n(this,u,"f")){const _=E.randomBytes(16),m=E.pbkdf2Sync(n(this,u,"f"),_.toString(),1e4,32,"sha512"),N=E.createCipheriv(x,m,_);C=Buffer.concat([_,Buffer.from(":"),N.update(Buffer.from(C)),N.final()])}if(process.env.SNAP)h.writeFileSync(this.path,C,{mode:n(this,o,"f").configFileMode});else try{D.writeFileSync(this.path,C,{mode:n(this,o,"f").configFileMode})}catch(_){if((_==null?void 0:_.code)==="EXDEV"){h.writeFileSync(this.path,C,{mode:n(this,o,"f").configFileMode});return}throw _}}_watch(){this._ensureDirectory(),h.existsSync(this.path)||this._write(B()),process.platform==="win32"?h.watch(this.path,{persistent:!1},te(()=>{this.events.emit("change")},{wait:100})):h.watchFile(this.path,{persistent:!1},te(()=>{this.events.emit("change")},{wait:5e3}))}_migrate(R,C,_){let m=this._get(q,"0.0.0");const N=Object.keys(R).filter(l=>this._shouldPerformMigration(l,m,C));let S={...this.store};for(const l of N)try{_&&_(this,{fromVersion:m,toVersion:l,finalVersion:C,versions:N});const p=R[l];p(this),this._set(q,l),m=l,S={...this.store}}catch(p){throw this.store=S,new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${p}`)}(this._isVersionInRangeFormat(m)||!oe.eq(m,C))&&this._set(q,C)}_containsReservedKey(R){return typeof R=="object"&&Object.keys(R)[0]===j?!0:typeof R!="string"?!1:n(this,o,"f").accessPropertiesByDotNotation?!!R.startsWith(`${j}.`):!1}_isVersionInRangeFormat(R){return oe.clean(R)===null}_shouldPerformMigration(R,C,_){return this._isVersionInRangeFormat(R)?C!=="0.0.0"&&oe.satisfies(C,R)?!1:oe.satisfies(_,R):!(oe.lte(R,C)||oe.gt(R,_))}_get(R,C){return w.get(this.store,R,C)}_set(R,C){const{store:_}=this;w.set(_,R,C),this.store=_}}t.default=G,e.exports=G,e.exports.default=G})(wn,wn.exports);var xm=wn.exports;const Ja=At,{app:Hr,ipcMain:Ln,ipcRenderer:Qa,shell:Xm}=Me,Wm=xm;let Za=!1;const eo=()=>{if(!Ln||!Hr)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const e={defaultCwd:Hr.getPath("userData"),appVersion:Hr.getVersion()};return Za||(Ln.on("electron-store-get-data",t=>{t.returnValue=e}),Za=!0),e};class Bm extends Wm{constructor(t){let r,n;if(Qa){const s=Qa.sendSync("electron-store-get-data");if(!s)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:r,appVersion:n}=s)}else Ln&&Hr&&({defaultCwd:r,appVersion:n}=eo());t={name:"config",...t},t.projectVersion||(t.projectVersion=n),t.cwd?t.cwd=Ja.isAbsolute(t.cwd)?t.cwd:Ja.join(r,t.cwd):t.cwd=r,t.configName=t.name,delete t.name,super(t)}static initRenderer(){eo()}async openInEditor(){const t=await Xm.openPath(this.path);if(t)throw new Error(t)}}var Ym=Bm;const Jm=Mi(Ym);function Qm(e,t){const r="window-state",n=`window-state-${e}`,s=new Jm({name:n}),a={width:t.width,height:t.height};let i={};const u=()=>s.get(r,a),o=new Me.BrowserWindow({...i,...t,webPreferences:{nodeIntegration:!1,contextIsolation:!0,...t.webPreferences}}),c=()=>{const $=o.getPosition(),b=o.getSize();return{x:$[0],y:$[1],width:b[0],height:b[1]}},f=($,b)=>$.x>=b.x&&$.y>=b.y&&$.x+$.width<=b.x+b.width&&$.y+$.height<=b.y+b.height,h=()=>{const $=Me.screen.getPrimaryDisplay().bounds;return Object.assign({},a,{x:($.width-a.width)/2,y:($.height-a.height)/2})},P=$=>Me.screen.getAllDisplays().some(w=>f($,w.bounds))?$:h(),E=()=>{!o.isMinimized()&&!o.isMaximized()&&Object.assign(i,c()),s.set(r,i)};return i=P(u()),o.on("close",E),o}process.env.APP_ROOT=xt.join(__dirname,"..");const Zm=process.env.VITE_DEV_SERVER_URL===void 0,ey=xt.join(process.env.APP_ROOT,"dist-electron"),Ei=xt.join(process.env.APP_ROOT,".output/public");process.env.VITE_PUBLIC=process.env.VITE_DEV_SERVER_URL?xt.join(process.env.APP_ROOT,"public"):Ei;let wi=!1,mr;async function ty(){return wi||await new Promise(e=>Me.ipcMain.once("window-is-ready",e)),mr}(async()=>ry(ty)&&(await Me.app.whenReady(),Me.ipcMain.once("window-is-ready",()=>{wi=!0}),console.log(xt.join(__dirname,"preload.js")),mr=Qm("main",{width:1e3,height:600,frame:!1,webPreferences:{preload:xt.join(__dirname,"preload.js")}}),Zm?await mr.loadURL("app://./server"):(await mr.loadURL(process.env.VITE_DEV_SERVER_URL),mr.webContents.openDevTools())))();Me.app.on("window-all-closed",()=>{Me.app.quit()});function ry(e){if(process.platform==="darwin"&&Me.app.on("open-url",async(t,r)=>{const n=await e();n.webContents.send("launcher-url",r),n.isMinimized()&&n.restore()}),process.platform==="win32"){if(!Me.app.requestSingleInstanceLock())return Me.app.quit(),!1;Me.app.setAsDefaultProtocolClient("your-custom-protocol-scheme"),Me.app.on("second-instance",async(n,s)=>{const a=await e(),i=s.find(u=>u.startsWith("your-custom-protocol-scheme://"));i&&a.webContents.send("launcher-url",i),a.isMinimized()&&a.restore(),a.focus()});const r=process.argv.find(n=>n.startsWith("your-custom-protocol-scheme://"));r&&e().then(n=>n.webContents.send("launcher-url",r))}return!0}exports.MAIN_DIST=ey;exports.RENDERER_DIST=Ei;
